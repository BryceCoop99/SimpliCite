{"ast":null,"code":"var _jsxFileName = \"/usr/share/caddy/personal/formatter/src/App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport { Quote } from './models/Quote.js';\nimport { CitationError } from './models/CitationError.js';\nimport { DocumentError } from './models/DocumentError.js';\nimport { MLAWorksCitation } from './models/MLAWorksCitation.js';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  let documentErrorList;\n  let dataEntriesList;\n  let citationsErrorList;\n  let worksCitedList;\n  let inputSections;\n  let startOfPaperIndex;\n  let sectionWorksCited;\n  const [hasData, updateDataState] = useState([]);\n  const firstDoubleQuote_CharValues = [8220, 34];\n  const lastDoubleQuote_CharValues = [8221, 34];\n  // 33: !    46: .    59: ;    63: ?\n\n  // Need Valid MLA inline-citation\n  // Check if Block Quotes work!\n\n  function inputTextChangeHandler(e) {\n    e.preventDefault();\n    let inputText = document.getElementById(\"inputText\").value;\n    if (inputText.length === 0) {\n      const responseImportant = document.getElementById(\"responseImportant\");\n      responseImportant.innerHTML = \"Copy and paste your text here\";\n      // responseImportant.style.backgroundColor = \"transparent\";\n    }\n  }\n\n  function stripQuotations(quote) {\n    if (firstDoubleQuote_CharValues.includes(quote.charCodeAt(0))) {\n      quote = quote.substring(1);\n    }\n    if (lastDoubleQuote_CharValues.includes(quote.charCodeAt(quote.length - 1))) {\n      quote = quote.substring(0, quote.length - 1);\n    }\n    quote.replace(\"\\\"\", \"\");\n    return quote;\n  }\n  function addCitationError(quote, citation, secIndex, index, errorMessage) {\n    quote = stripQuotations(quote);\n    let hasCitationInQuote = false;\n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      if (quote === quoteToCheck) {\n        hasCitationInQuote = true;\n        let quoteObject = getQuoteObject(quote);\n        let citationToCheck = quoteObject.getCitation();\n        let citationErrors = quoteObject.getCitationErrors();\n        if (citationErrors === undefined) {\n          citationErrors = [];\n        }\n        if (citation === citationToCheck) {\n          citationErrors.push(\"This citation already exists for given quote.\");\n          // What about errorMessage here?\n        } else {\n          citationErrors.push(errorMessage);\n        }\n        quoteObject.setCitationErrors(errorMessage);\n        dataEntriesList.push(quoteObject);\n        break;\n      }\n    }\n    if (!hasCitationInQuote) {\n      let citationObject;\n      for (let i = 0; i < citationsErrorList.length; i++) {\n        let citationToCheck = citationsErrorList[i].getCitation();\n        if (citation === citationToCheck) {\n          citationObject = citationsErrorList[i];\n          let citationErrors = citationObject.getCitationErrors();\n          if (citationErrors === undefined) {\n            citationErrors = [];\n          }\n          citationErrors.push(\"This citation already exists.\");\n          citationObject.setCitationErrors(citationErrors);\n          break;\n        }\n      }\n      if (citationObject === undefined) {\n        let citationObject = new CitationError(citation);\n        let citationErrors = [errorMessage];\n        citationObject.setCitationErrors(citationErrors);\n      }\n      citationsErrorList.push(citationObject);\n    }\n  }\n\n  /* For now, there should only be one quote per citation! This will flip some time soon*/\n  function addCitation(quote, citation, secIndex, index) {\n    quote = stripQuotations(quote);\n    let quoteObject = undefined;\n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      if (quote === quoteToCheck) {\n        quoteObject = getQuoteObject(quote);\n        let citationStr = quoteObject.getCitation();\n        if (citationStr === undefined) {\n          quoteObject.setCitation(citation);\n          quoteObject.setCitationIndex(index - citation.split(\" \").length);\n          quoteObject.setCitationSection(secIndex);\n        } else {\n          quoteObject.setCitationError(\"This Citation exists at least twice for the quote in this paper.\");\n          addCitationError(quote, citation, secIndex, index);\n        }\n        dataEntriesList.push(quoteObject);\n        break;\n      }\n    }\n    if (quoteObject === undefined) {\n      // If quote does not exists with given citation.\n      let citationHasErrors = false;\n      for (let i = 0; i < citationsErrorList.length; i++) {\n        // Checking to see if has errors\n        let citationToCheck = citationsErrorList[i].getCitation();\n        if (citation === citationToCheck) {\n          citationHasErrors = true;\n          let citationObject = getCitationObject(citation);\n          console.log(citationObject);\n          let citationErrors = citationObject.getCitationErrors();\n          if (citationErrors === undefined) {\n            citationErrors = [];\n          }\n          citationErrors.push(\"This citation is not associated with any quote/block quote.\");\n          citationObject.setCitationErrors(citationErrors);\n          citationsErrorList.push(citationObject);\n          break;\n        }\n      }\n      if (!citationHasErrors) {\n        let citationObject = new CitationError(citation);\n        citationsErrorList.push(citationObject);\n      }\n    }\n  }\n  function getCitationObject(citation) {\n    let citationObject;\n    for (let i = 0; i < citationsErrorList.length; i++) {\n      let citationToCheck = citationsErrorList[i].getCitation();\n      if (citation === citationToCheck) {\n        citationObject = citationsErrorList.splice(i, 1);\n        citationObject = citationObject[0];\n        break;\n      }\n    }\n    return citationObject;\n  }\n  function getQuoteObject(quote) {\n    quote = stripQuotations(quote);\n    let quoteObject;\n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      if (quote === quoteToCheck) {\n        quoteObject = dataEntriesList.splice(i, 1); //Removes the quoteObj from list.\n        quoteObject = quoteObject[0];\n        break;\n      }\n    }\n    return quoteObject;\n  }\n  function addQuote(quote, secIndex, index) {\n    quote = stripQuotations(quote);\n    let quoteObject;\n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      if (quote === quoteToCheck) {\n        quoteObject = getQuoteObject(quote);\n        let quoteErrors = quoteObject.getQuoteErrors();\n        if (quoteErrors === undefined) {\n          quoteErrors = [];\n        }\n        quoteErrors.push(\"This quote already exists in this document\");\n        quoteObject.setQuoteErrors(quoteErrors);\n        break;\n      }\n    }\n    if (quoteObject === undefined) {\n      quoteObject = new Quote(quote);\n      let quoteErrors = [];\n      quoteObject.setQuoteErrors(quoteErrors);\n      quoteObject.setQuoteIndex(index - quote.split(\" \").length);\n      quoteObject.setQuoteSection(secIndex);\n    }\n    dataEntriesList.push(quoteObject);\n  }\n  function addQuoteError(quote, errorMessage) {\n    quote = stripQuotations(quote);\n    let quoteObject = getQuoteObject(quote);\n    if (quoteObject === undefined) {\n      console.log(\"SYSTEM ERROR: Cannot add error to a quote that does not exist\");\n      return undefined;\n    }\n    let quoteErrors = quoteObject.getQuoteErrors();\n    if (quoteErrors === undefined) {\n      quoteErrors = [];\n    }\n    quoteErrors.push(errorMessage);\n    quoteObject.setQuoteErrors(quoteErrors);\n    dataEntriesList.unshift(quoteObject);\n  }\n  function addDocumentError(errorMessage, secIndex, index) {\n    let documentErrorObject = new DocumentError(errorMessage, secIndex, index);\n    documentErrorList.push(documentErrorObject);\n  }\n  function removeMlaDecimal(word) {\n    const chars = word.split('');\n    if (chars[word.length - 1] === '.') {\n      // If the last character is a decimal, remove it!\n      const result = word.slice(0, -1);\n      return result;\n    } else {\n      return word;\n    }\n  }\n  function capitalizeFirstLetter(word) {\n    return word.charAt(0).toUpperCase() + word.slice(1);\n  }\n\n  /** This should check that an author's name appears in here! Author must come from Works Cited list*/\n  function validateCitationInText(wordsInSection, citation) {\n    // DO NOT disable the comment below...\n    // eslint-disable-next-line\n    let sentences = wordsInSection.join(\" \").match(/[^\\.!\\?]+[\\.!\\?]+/g);\n    let sentencesWithQuotationCitation = [];\n    // console.log(\"Citation to check: \" +citation);\n\n    for (let sentenceIndex = 0; sentenceIndex < wordsInSection.length; sentenceIndex++) {\n      let sentence = sentences[sentenceIndex];\n      let hasBeginningQuoteInSentence = false;\n      let hasEndingQuoteInSentence = false;\n      if (sentence === undefined) {\n        continue;\n      }\n      for (let i = 0; i < sentence.length; i++) {\n        let character = sentence[i];\n        if (!hasBeginningQuoteInSentence && firstDoubleQuote_CharValues.includes(character.charCodeAt(0))) {\n          hasBeginningQuoteInSentence = true;\n        } else if (!hasEndingQuoteInSentence && lastDoubleQuote_CharValues.includes(character.charCodeAt(0))) {\n          hasEndingQuoteInSentence = true;\n          // console.log(\"Sentence: \"+sentence);\n          break;\n        }\n      }\n      if (hasBeginningQuoteInSentence) {\n        sentencesWithQuotationCitation.push(sentence);\n        // console.log(\"Has beginning quote! \" +sentencesWithQuotationCitation.join(\" \"));\n        // console.log(sentencesWithQuotationCitation.join(\" \").includes(citation));\n\n        if (hasEndingQuoteInSentence) {\n          // IF IT HAS ENDING QUOTATION MARKS, THE CITATION MUST EXIST AFTER QUOTE!\n          // console.log(\"Quote found! \" +sentencesWithQuotationCitation.join(\" \"));\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  function findMlaBlockCitation(wordsInSection, secIndex) {\n    if (wordsInSection.join(\" \").includes(\")\") && wordsInSection.join(\" \").includes(\"(\")) {\n      // Checks if the section contains a parenthesis. Possible block citation!\n      console.log(wordsInSection);\n      let citation = [];\n      let quote = [];\n      let i = 0;\n      let startedCitationIndex = 0;\n      while (true) {\n        let word = wordsInSection[i];\n        citation = findMlaCitations(word, startedCitationIndex, i, citation);\n        if (citation[0].includes(\")\") && citation[0].includes(\"(\")) {\n          // If citation was found\n          addQuote(quote.join(\" \"), secIndex, i);\n          addCitation(quote.join(\" \"), citation.join(\" \"), secIndex, i);\n          return true;\n        } else if (!citation[0].includes(\"(\")) {\n          quote.push(word);\n        } else if (citation[0].includes(\"(\")) {\n          citation.push(word);\n        }\n        i++;\n      }\n    }\n    return false;\n  }\n  function findMlaCitations(word, startedCitationIndex, i, citation) {\n    if (!word.includes(\"(\") && citation === undefined) {\n      // If beginning of citation and doesn't include open parenthesis.\n      console.log(\"Citation does not come right after quote! WHOOPS\");\n      return [];\n    } else if (word.includes(\"(\") && startedCitationIndex === i) {\n      // If citation is right after quote.\n\n      if (word.includes(\")\")) {\n        // If word is also end of citation too.\n        const finalWord = removeMlaDecimal(word);\n        citation.push(finalWord);\n        return [citation.join(\" \")];\n      }\n      citation.push(word);\n    } else if (word.includes(\")\")) {\n      // If this is the end of the citation.\n      const finalWord = removeMlaDecimal(word);\n      citation.push(finalWord);\n      return [citation.join(\" \")];\n    } else {\n      citation.push(word);\n    }\n    return [citation.join(\" \")];\n  }\n\n  /**\n   * Finds all of the quotes in MLA Format and adds them to the Quotes List! \n   */\n  function findMlaQuotes(startingIndex, inputSections, sectionWorksCited) {\n    for (let secIndex = startingIndex; secIndex < sectionWorksCited - 1; secIndex++) {\n      let currentSection = inputSections[secIndex].replace('\\t', \"\");\n      const wordsInSection = currentSection.split(\" \");\n      if (wordsInSection.length < 2) {\n        // We don't want empty sections!\n        continue;\n      }\n      let containsQuoteInSection = false;\n      let containsCitationInSection = false;\n      let hasQuoteErrorInSection = false;\n\n      /* Time to find the quotes in a section*/\n      for (let i = 0; i < wordsInSection.length; i++) {\n        let word = wordsInSection[i];\n        let containsQuote = false;\n        let quote;\n        let errors = [];\n        if (firstDoubleQuote_CharValues.includes(word.charCodeAt(0))) {\n          // First quoted word found, now find the last.\n          let wordsInQuote = [];\n          wordsInQuote.push(word);\n          let wordsinSectionLength = wordsInSection.length - 1;\n          while (true) {\n            // Checking word with ending quotation marks!\n            i++;\n            word = wordsInSection[i];\n            word = removeMlaDecimal(word);\n            const containsFinalQuote = lastDoubleQuote_CharValues.includes(word.charCodeAt(word.length - 1));\n            wordsInQuote.push(word);\n            if (containsFinalQuote) {\n              containsQuoteInSection = true;\n              containsQuote = true;\n              break;\n            } else if (word.includes(\"(\")) {\n              // If a citation comes before an ending parenthesis, tell the user.\n              errors.push(\"Missing ending parenthesis. Is it possible that you missed one before the citation?\");\n              wordsInQuote.pop();\n              hasQuoteErrorInSection = true;\n              containsQuote = true;\n              break;\n            } else if (i === wordsinSectionLength) {\n              // If this is the last word in the section and doesn't contain any quotes, tell the user.\n              errors.push(\"Missing ending quotation marks!\");\n              hasQuoteErrorInSection = true;\n              containsQuote = true;\n              break;\n            }\n          }\n          quote = wordsInQuote.join(\" \");\n          let startedCitationIndex = i + 1;\n          let containsCitation = false;\n          let citation = [];\n\n          // Get the citing of the quote after the quotation marks.\n          while (true) {\n            i++;\n            word = wordsInSection[i];\n            if (firstDoubleQuote_CharValues.includes(word.charCodeAt(0))) {\n              // Could mean that this quote could be associated with the next quote?\n              i--;\n              break;\n            }\n            citation = findMlaCitations(word, startedCitationIndex, i, citation);\n            if (citation[0].includes(\")\") && citation[0].includes(\"(\")) {\n              // If citation was found\n              containsCitationInSection = true;\n              containsCitation = true;\n              break;\n            } else if (i === wordsInSection.length - 1) {\n              break;\n            }\n          }\n          if (containsCitation) {\n            citation = citation.join(\" \");\n          }\n          if (containsCitation && containsQuote) {\n            addQuote(quote, secIndex, i);\n            addCitation(quote, citation, secIndex, i);\n            // Validate citation\n            let citationValid = validateCitationInText(wordsInSection, citation);\n            if (!citationValid) {}\n          } else if (containsCitation && !containsQuote) {\n            addCitationError(citation, \"No quote exists for the given citation\");\n          } else if (!containsCitation && containsQuote) {\n            // Could be a quote from different paragraph? Idk...\n            addQuote(quote, secIndex, i);\n            addQuoteError(quote, \"This quote does not have an in-text citation\");\n          }\n          if (containsQuote && errors !== undefined) {\n            errors.forEach(error => {\n              addQuoteError(quote, error);\n            });\n          }\n\n          //Repeat for multiple quotes/citations in paragraph.\n        }\n      }\n\n      if (!containsQuoteInSection && !hasQuoteErrorInSection) {\n        // If the section does not contain a quote in section or quote errors. Could it be a block citation?\n        containsCitationInSection = findMlaBlockCitation(wordsInSection, secIndex);\n      }\n      if (containsQuoteInSection && !containsCitationInSection) {// This could possibly be a single cited paper!\n      }\n      if (!containsCitationInSection && !containsQuoteInSection) {\n        addDocumentError(\"No quote or citation exists for this paragraph!\", secIndex, 0);\n      }\n    }\n  }\n\n  /**\n  * Author, Title of source, Title of container, Other contributors\n  * Version, Number, Publisher, Publication date, Location.\n  */\n  function findMlaWorksCited(sectionWorksCited, inputSections, totalNumberSections) {\n    for (let secIndex = sectionWorksCited; secIndex < totalNumberSections; secIndex++) {\n      let mlaWorksCitedObj = new MLAWorksCitation(inputSections[secIndex], secIndex);\n      // DO NOT disable the comment below...\n      // eslint-disable-next-line\n      let sentences = inputSections[secIndex].match(/[^\\.!\\?]+[\\.!\\?]+/g);\n      // for (let sentIndex = 0; sentIndex < sentences.length)\n      let sentenceIndex = 0;\n      if (sentences === undefined) {\n        addDocumentError(\"Add your works citations at the end of the paper under the Works Cited section!\", secIndex, 0);\n        return;\n      }\n\n      /* Find Author and Author Acronym! */\n      let sentence = sentences[sentenceIndex].trim().replace('.', \"\");\n      let authorNames = sentence.split(\",\");\n      let authorErrors = [];\n      if (authorNames === undefined) {\n        addDocumentError(\"Add your works citations at the end of the paper under the Works Cited section!\", secIndex, 0);\n        return;\n      }\n      mlaWorksCitedObj.setAuthorIndex(sentenceIndex);\n      if (authorNames.length === 1) {\n        mlaWorksCitedObj.setAuthor(authorNames[0]);\n        authorErrors.push(\"Author name must include first and last name in the following format\" + \" 'Last Name, First Name (Optional: Middle Initial/Name).'\");\n      } else if (authorNames.length > 2) {\n        mlaWorksCitedObj.setAuthor(sentence);\n        authorErrors.push(\"Make sure to use the following format for the Author's name:\" + \" 'Last Name, First Name (Optional: Middle Initial/Name).'\");\n      } else {\n        let lastNames = authorNames[0].trim().split(\" \");\n        let firstNames = authorNames[1].trim().split(\" \");\n        let fullname = [];\n        firstNames.forEach(word => {\n          fullname.push(capitalizeFirstLetter(word.toLowerCase()));\n        });\n        lastNames.forEach(word => {\n          fullname.push(capitalizeFirstLetter(word.toLowerCase()));\n        });\n        mlaWorksCitedObj.setAuthor(fullname.join(\" \"));\n        let authorAcronym = [];\n        firstNames.forEach(word => {\n          authorAcronym.push(word.charAt(0));\n        });\n        lastNames.forEach(word => {\n          authorAcronym.push(word.charAt(0));\n        });\n        mlaWorksCitedObj.setAuthorAcronym(authorAcronym.join(\"\"));\n        // console.log(authorAcronym);\n        // console.log(firstNames);\n        // console.log(lastNames);\n      }\n\n      if (authorErrors !== undefined) {\n        let errors = mlaWorksCitedObj.getAuthorErrors();\n        if (errors === undefined) {\n          errors = [];\n        }\n        authorErrors.forEach(error => {\n          errors.push(error);\n        });\n        mlaWorksCitedObj.setAuthorErrors(errors);\n      }\n      sentenceIndex += 1;\n      /*   */\n\n      worksCitedList.push(mlaWorksCitedObj);\n    }\n    if (worksCitedList[0] === undefined) {\n      return false;\n    }\n    return true;\n  }\n  function checkMlaHandler(e) {\n    e.preventDefault();\n    documentErrorList = [];\n    citationsErrorList = [];\n    dataEntriesList = [];\n    worksCitedList = [];\n    const responseImportant = document.getElementById(\"responseImportant\");\n    responseImportant.innerHTML = \"\";\n    const inputText = document.getElementById(\"inputText\").value;\n    if (inputText.length > 0) {\n      responseImportant.style.backgroundColor = \"#FF006A\";\n      responseImportant.style.color = \"#FFF\";\n    }\n    inputSections = inputText.split(\"\\n\");\n    if (inputSections.length <= 1) {\n      if (inputSections[0].length > 1) {\n        responseImportant.innerHTML = \"Make sure you've copied your whole paper before checking! \" + \"Include the following headers: Full Name, Teacher, Class Name, Today's Date.\";\n        return;\n      }\n      responseImportant.innerHTML = \"Copy and paste your paper to start!\";\n      return;\n    }\n\n    /* Parse the headers! */\n    let hasExtraLinesInHeaders = false;\n    let hasMissingHeaders = false;\n    let startParsingIndex = 0;\n    let inputHeaders = [];\n    for (let i = 0; i < inputSections.length; i++) {\n      if (inputSections[i].length < 1) {\n        hasExtraLinesInHeaders = true;\n        inputSections.splice(i, 1);\n        i--;\n      } else if (inputSections[i].length > 15) {\n        hasMissingHeaders = true;\n        break;\n      } else {\n        inputHeaders.push(inputSections[i]);\n      }\n      if (inputHeaders !== undefined && inputHeaders.length === 4) {\n        break;\n      }\n    }\n\n    /* Input Headers handling!! */\n    if (inputHeaders === undefined) {\n      responseImportant.innerHTML = \"his paper is empty\";\n      return;\n    } else if (inputHeaders.length < 4) {\n      addDocumentError(\"Missing headers! Headers must include: your name, your teacher's name, class name, and current date.\", 0, 0);\n    }\n    if (hasExtraLinesInHeaders) {\n      addDocumentError(\"Consider removing the extra lines between headers of your document.\", 0, 0);\n    }\n    if (hasMissingHeaders) {\n      addDocumentError(\"Header/Title is missing! Headers must include: your name, your teacher's name, class name, and current date.\" + \"If your title is over 15 words long, shorten it and click the Check Citation button again.\", 0, 0);\n    }\n\n    /* Parse up until the Title! */\n    let inputTitle;\n    let hasExtraLinesBeforeTitle = false;\n    for (let i = inputHeaders.length; i < inputSections.length; i++) {\n      if (inputSections[i].length < 2) {\n        hasExtraLinesBeforeTitle = true;\n        inputSections.splice(i, 1);\n        i--;\n      } else {\n        inputTitle = inputSections[i];\n        startParsingIndex = i + 1;\n        break;\n      }\n    }\n\n    /* Title Handling */\n    if (inputTitle === undefined) {\n      responseImportant.innerHTML = \"Please add more to your paper before checking!\";\n      return;\n    }\n    if (inputSections[startParsingIndex].length < 2 || hasExtraLinesBeforeTitle) {\n      addDocumentError(\"Consider removing the extra lines before and after the Title of your document.\");\n    }\n\n    /* Parse the extra lines after the Title! We don't want to use them :) */\n    for (let i = startParsingIndex; i < inputSections.length; i++) {\n      if (inputSections[i].length < 2) {\n        inputSections.splice(i, 1);\n        i--;\n      }\n    }\n\n    /* Removing any extra lines in the document.*/\n    startOfPaperIndex = undefined;\n    for (let i = 0; i < inputSections.length; i++) {\n      if (inputSections[i].length < 2) {\n        inputSections.splice(i, 1);\n        i--;\n      } else if (startOfPaperIndex === undefined && inputSections[i].split(\" \").length > 20) {\n        startOfPaperIndex = i;\n        break;\n      }\n    }\n    if (startOfPaperIndex === undefined) {\n      responseImportant.innerHTML = \"Please add more to your paper before checking!\";\n      return;\n    }\n    sectionWorksCited = undefined;\n    /* Give the section works cited the last section so the loop can work. */\n    for (let i = startParsingIndex; i < inputSections.length; i++) {\n      let text = inputSections[i].trim().split(\" \");\n      if (text.length === 2) {\n        text = text.join(\" \").toLowerCase();\n        if (text === \"works cited\" || text === \"references\" || text === \"bibliography\") {\n          sectionWorksCited = i;\n        }\n      }\n    }\n    if (sectionWorksCited === undefined) {\n      sectionWorksCited = inputSections.length;\n      // addDocumentError(\"Please include a works cited page at the end of your document. If your works cited page exists,\" +\n      // \"make sure to have a single line named 'Works Cited' before the citations\", sectionWorksCited, inputSections.length -1);\n      responseImportant.innerHTML = \"Please include a works cited page at the end of your document. If your works cited page exists,\" + \" make sure to have a single line named 'Works Cited' before the citations\";\n      return;\n    }\n\n    /* Check for MLA Works Cited page and parse the works cited citations!*/\n    let hasWorksCitedCitations = false;\n    if (sectionWorksCited < inputSections.length) {\n      hasWorksCitedCitations = findMlaWorksCited(sectionWorksCited + 1, inputSections, inputSections.length);\n    }\n    if (!hasWorksCitedCitations) {\n      responseImportant.innerHTML = \"Add your source citations under your 'Works Cited' section at the end of the document.\";\n      return;\n    }\n    console.log(inputSections);\n    console.log(startOfPaperIndex, sectionWorksCited);\n    /* Now find the in-text quotes/citations inside the paper sections!*/\n    findMlaQuotes(startOfPaperIndex, inputSections, sectionWorksCited);\n\n    /* Check that citations alone are valid */\n\n    // const root = document.getElementById(\"root\");\n\n    /* This removes the nodes from the previous submitted text. */\n    // root.innerHTML = '';\n\n    // const errorsRoot = document.getElementById(\"main-errors\");\n    // for (let i = 0; i < errors.length; i++) {\n    //   let errorText = document.createTextNode(errors[i]);\n    //   let error = document.createElement(\"th\");\n\n    //   error.appendChild(errorText);\n\n    //   let row = document.createElement(\"tr\");\n    //   row.appendChild(error);\n    //   errorsRoot.appendChild(row);\n    // }\n\n    // for (let i = 0; i < citations.length; i++) {\n    //   let citationText = document.createTextNode(citations[i]);\n    //   let quoteText = document.createTextNode(quotes[i]);\n\n    //   let quote = document.createElement(\"th\");\n    //   let citation = document.createElement(\"th\");\n    //   quote.appendChild(quoteText);\n    //   citation.appendChild(citationText);\n\n    //   let row = document.createElement(\"tr\");\n    //   row.appendChild(quote);\n    //   row.appendChild(citation);\n\n    //   root.appendChild(row);\n    // }\n\n    // for (let i = 0; i < dataEntriesList.length; i ++) {\n    //   let quoteKey = dataEntriesList[i];\n    //   console.log(quoteKey);\n    // }\n    console.log(dataEntriesList);\n    // console.log(inputSections);\n    // console.log(JSON.stringify(dataEntriesList));\n    console.log(citationsErrorList);\n    console.log(worksCitedList);\n    console.log(documentErrorList);\n    console.log(\"\\nEND\\n\\n\");\n    responseImportant.innerHTML = \"See results below\";\n    responseImportant.style.backgroundColor = \"#3CD604\";\n    updateDataState(dataEntriesList);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Citation Checker\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"inputForm\",\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              onBlur: inputTextChangeHandler,\n              id: \"inputText\",\n              type: \"text\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 824,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              id: \"responseImportant\",\n              children: \"Copy and paste your text here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 826,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bottom-row\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              onClick: checkMlaHandler,\n              type: \"submit\",\n              value: \"Check Paper\",\n              name: \"\",\n              className: \"btn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 829,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 828,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 7\n    }, this), hasData.map(section => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: section.getQuote()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 836,\n        columnNumber: 16\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 818,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dOE/yavrPGI2hqtKiTMbjWmtGsw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Quote","CitationError","DocumentError","MLAWorksCitation","useState","App","documentErrorList","dataEntriesList","citationsErrorList","worksCitedList","inputSections","startOfPaperIndex","sectionWorksCited","hasData","updateDataState","firstDoubleQuote_CharValues","lastDoubleQuote_CharValues","inputTextChangeHandler","e","preventDefault","inputText","document","getElementById","value","length","responseImportant","innerHTML","stripQuotations","quote","includes","charCodeAt","substring","replace","addCitationError","citation","secIndex","index","errorMessage","hasCitationInQuote","i","quoteToCheck","getQuote","quoteObject","getQuoteObject","citationToCheck","getCitation","citationErrors","getCitationErrors","undefined","push","setCitationErrors","citationObject","addCitation","citationStr","setCitation","setCitationIndex","split","setCitationSection","setCitationError","citationHasErrors","getCitationObject","console","log","splice","addQuote","quoteErrors","getQuoteErrors","setQuoteErrors","setQuoteIndex","setQuoteSection","addQuoteError","unshift","addDocumentError","documentErrorObject","removeMlaDecimal","word","chars","result","slice","capitalizeFirstLetter","charAt","toUpperCase","validateCitationInText","wordsInSection","sentences","join","match","sentencesWithQuotationCitation","sentenceIndex","sentence","hasBeginningQuoteInSentence","hasEndingQuoteInSentence","character","findMlaBlockCitation","startedCitationIndex","findMlaCitations","finalWord","findMlaQuotes","startingIndex","currentSection","containsQuoteInSection","containsCitationInSection","hasQuoteErrorInSection","containsQuote","errors","wordsInQuote","wordsinSectionLength","containsFinalQuote","pop","containsCitation","citationValid","forEach","error","findMlaWorksCited","totalNumberSections","mlaWorksCitedObj","trim","authorNames","authorErrors","setAuthorIndex","setAuthor","lastNames","firstNames","fullname","toLowerCase","authorAcronym","setAuthorAcronym","getAuthorErrors","setAuthorErrors","checkMlaHandler","style","backgroundColor","color","hasExtraLinesInHeaders","hasMissingHeaders","startParsingIndex","inputHeaders","inputTitle","hasExtraLinesBeforeTitle","text","hasWorksCitedCitations","map","section"],"sources":["/usr/share/caddy/personal/formatter/src/App.js"],"sourcesContent":["import './App.css';\nimport {Quote} from './models/Quote.js';\nimport {CitationError} from './models/CitationError.js';\nimport {DocumentError} from './models/DocumentError.js';\nimport {MLAWorksCitation} from './models/MLAWorksCitation.js';\nimport {useState} from 'react';\n\nfunction App() {\n  \n  let documentErrorList;\n  let dataEntriesList;\n  let citationsErrorList;\n  let worksCitedList;\n  let inputSections;\n  let startOfPaperIndex;\n  let sectionWorksCited;\n  const [hasData, updateDataState] = useState([]);\n  const firstDoubleQuote_CharValues = [8220, 34];\n  const lastDoubleQuote_CharValues = [8221, 34];\n  // 33: !    46: .    59: ;    63: ?\n  \n  // Need Valid MLA inline-citation\n  // Check if Block Quotes work!\n  \n  function inputTextChangeHandler(e) {\n    e.preventDefault();\n    \n    let inputText = document.getElementById(\"inputText\").value;\n    \n    if (inputText.length === 0) {\n      const responseImportant = document.getElementById(\"responseImportant\");\n      responseImportant.innerHTML = \"Copy and paste your text here\";\n      // responseImportant.style.backgroundColor = \"transparent\";\n    }\n  }\n  \n  function stripQuotations(quote) {\n    if (firstDoubleQuote_CharValues.includes(quote.charCodeAt(0))) {\n      quote = quote.substring(1);\n    }\n    if (lastDoubleQuote_CharValues.includes(quote.charCodeAt(quote.length -1))) {\n      quote = quote.substring(0, (quote.length -1));\n    }\n    quote.replace(\"\\\"\", \"\");\n    \n    return quote;\n  }\n  \n  function addCitationError(quote, citation, secIndex, index, errorMessage) {\n    quote = stripQuotations(quote);\n    let hasCitationInQuote = false;\n    \n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      \n      if (quote === quoteToCheck) {\n        hasCitationInQuote = true;\n        let quoteObject = getQuoteObject(quote);\n        let citationToCheck = quoteObject.getCitation();\n        let citationErrors = quoteObject.getCitationErrors();\n        \n        if (citationErrors === undefined) {\n          citationErrors = [];\n        }\n        \n        if (citation === citationToCheck) {\n          citationErrors.push(\"This citation already exists for given quote.\");\n          // What about errorMessage here?\n          \n        } else {\n          citationErrors.push(errorMessage);\n          \n        }\n        \n        quoteObject.setCitationErrors(errorMessage);\n        dataEntriesList.push(quoteObject);\n        break;\n      }\n    }\n    \n    if (!hasCitationInQuote) {\n      let citationObject;\n      \n      for (let i = 0; i < citationsErrorList.length; i++) {\n        let citationToCheck = citationsErrorList[i].getCitation();\n        \n        if (citation === citationToCheck) {\n          citationObject = citationsErrorList[i];\n          let citationErrors = citationObject.getCitationErrors();\n          \n          if (citationErrors === undefined) {\n            citationErrors = [];\n          }\n          \n          citationErrors.push(\"This citation already exists.\");\n          citationObject.setCitationErrors(citationErrors);\n          break;\n        }\n      }\n    \n      if (citationObject === undefined) {\n        let citationObject = new CitationError(citation);\n        let citationErrors = [errorMessage];\n        citationObject.setCitationErrors(citationErrors);\n        \n      }\n      \n      citationsErrorList.push(citationObject);\n    }\n  }\n  \n  /* For now, there should only be one quote per citation! This will flip some time soon*/\n  function addCitation(quote, citation, secIndex, index) {\n    quote = stripQuotations(quote);\n    let quoteObject = undefined;\n    \n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      \n      if (quote === quoteToCheck) {\n        quoteObject = getQuoteObject(quote);\n        let citationStr = quoteObject.getCitation();\n        \n        if (citationStr === undefined) {\n          quoteObject.setCitation(citation);\n          quoteObject.setCitationIndex(index - citation.split(\" \").length);\n          quoteObject.setCitationSection(secIndex);\n          \n        } else {\n          quoteObject.setCitationError(\"This Citation exists at least twice for the quote in this paper.\");\n          addCitationError(quote, citation, secIndex, index);\n        }\n        \n        dataEntriesList.push(quoteObject);\n        break;\n      }\n    }\n    \n    if (quoteObject === undefined) { // If quote does not exists with given citation.\n      let citationHasErrors = false;\n      \n      for (let i = 0; i < citationsErrorList.length; i++) { // Checking to see if has errors\n        let citationToCheck = citationsErrorList[i].getCitation();\n        \n        if (citation === citationToCheck) {\n          citationHasErrors = true;\n          let citationObject = getCitationObject(citation);\n          console.log(citationObject);\n          let citationErrors = citationObject.getCitationErrors();\n          \n          if (citationErrors === undefined) {\n            citationErrors = [];\n          }\n          citationErrors.push(\"This citation is not associated with any quote/block quote.\");\n          citationObject.setCitationErrors(citationErrors);\n          citationsErrorList.push(citationObject);\n          break;\n        }\n      }\n      \n      if (!citationHasErrors) {\n        let citationObject = new CitationError(citation);\n        citationsErrorList.push(citationObject);\n      }\n    }\n    \n  }\n  \n  function getCitationObject(citation) {\n    let citationObject;\n    \n    for (let i = 0; i < citationsErrorList.length; i++) {\n      let citationToCheck = citationsErrorList[i].getCitation();\n      \n      if (citation === citationToCheck) {\n        citationObject = citationsErrorList.splice(i, 1);\n        citationObject = citationObject[0];\n        break;\n      }\n    }\n    return citationObject;\n  }\n  \n  function getQuoteObject(quote) {\n    quote = stripQuotations(quote);\n    let quoteObject;\n    \n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      \n      if (quote === quoteToCheck) {\n        quoteObject = dataEntriesList.splice(i, 1); //Removes the quoteObj from list.\n        quoteObject = quoteObject[0];\n        \n        break;\n      }\n    }\n    return quoteObject;\n  }\n  \n  function addQuote(quote, secIndex, index) {\n    quote = stripQuotations(quote);\n    let quoteObject;\n    \n    for (let i = 0; i < dataEntriesList.length; i++) {\n      let quoteToCheck = dataEntriesList[i].getQuote();\n      \n      if (quote === quoteToCheck) {\n        quoteObject = getQuoteObject(quote);\n        let quoteErrors = quoteObject.getQuoteErrors();\n        \n        if (quoteErrors === undefined) {\n          quoteErrors = [];\n        }\n        \n        quoteErrors.push(\"This quote already exists in this document\");\n        quoteObject.setQuoteErrors(quoteErrors);\n        break;\n      }\n    }\n    \n    if (quoteObject === undefined) {\n      quoteObject = new Quote(quote);\n      let quoteErrors = [];\n      \n      quoteObject.setQuoteErrors(quoteErrors);\n      quoteObject.setQuoteIndex(index - quote.split(\" \").length);\n      quoteObject.setQuoteSection(secIndex);\n    }\n    \n    dataEntriesList.push(quoteObject);\n  }\n  \n  function addQuoteError(quote, errorMessage) {\n    quote = stripQuotations(quote);\n    \n    let quoteObject = getQuoteObject(quote);\n    \n    if (quoteObject === undefined) {\n      console.log(\"SYSTEM ERROR: Cannot add error to a quote that does not exist\");\n      return undefined;\n    }\n    \n    let quoteErrors = quoteObject.getQuoteErrors();\n    if (quoteErrors === undefined) {\n      quoteErrors = [];\n    }\n    \n    quoteErrors.push(errorMessage);\n    quoteObject.setQuoteErrors(quoteErrors);\n    \n    dataEntriesList.unshift(quoteObject);\n  }\n  \n  function addDocumentError(errorMessage, secIndex, index) {\n    let documentErrorObject = new DocumentError(errorMessage, secIndex, index);\n    documentErrorList.push(documentErrorObject);\n  }\n  \n  function removeMlaDecimal(word) {\n    const chars = word.split('');\n    if (chars[(word.length-1)] === '.') { // If the last character is a decimal, remove it!\n      const result = word.slice(0, -1);\n      return result;\n    } else {\n      return word;\n    }\n  }\n  \n  function capitalizeFirstLetter(word) {\n    return word.charAt(0).toUpperCase() + word.slice(1);\n  }\n  \n  /** This should check that an author's name appears in here! Author must come from Works Cited list*/\n  function validateCitationInText(wordsInSection, citation) {\n    // DO NOT disable the comment below...\n    // eslint-disable-next-line\n    let sentences = wordsInSection.join(\" \").match( /[^\\.!\\?]+[\\.!\\?]+/g );\n    \n    let sentencesWithQuotationCitation = [];\n    // console.log(\"Citation to check: \" +citation);\n    \n    for (let sentenceIndex = 0; sentenceIndex < wordsInSection.length; sentenceIndex++) {\n      let sentence = sentences[sentenceIndex];\n      let hasBeginningQuoteInSentence = false;\n      let hasEndingQuoteInSentence = false;\n      \n      if (sentence === undefined) {\n        continue;\n      }\n      \n      for (let i = 0; i < sentence.length; i++) {\n        let character = sentence[i];\n        \n        if (!hasBeginningQuoteInSentence && firstDoubleQuote_CharValues.includes(character.charCodeAt(0))) {\n          hasBeginningQuoteInSentence = true;\n          \n        } else if (!hasEndingQuoteInSentence && lastDoubleQuote_CharValues.includes(character.charCodeAt(0))) {\n          hasEndingQuoteInSentence = true;\n          // console.log(\"Sentence: \"+sentence);\n          break;\n          \n        }\n        \n      }\n      \n      if (hasBeginningQuoteInSentence) {\n        sentencesWithQuotationCitation.push(sentence);\n        // console.log(\"Has beginning quote! \" +sentencesWithQuotationCitation.join(\" \"));\n        // console.log(sentencesWithQuotationCitation.join(\" \").includes(citation));\n      \n        if (hasEndingQuoteInSentence) { // IF IT HAS ENDING QUOTATION MARKS, THE CITATION MUST EXIST AFTER QUOTE!\n          // console.log(\"Quote found! \" +sentencesWithQuotationCitation.join(\" \"));\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  \n  function findMlaBlockCitation(wordsInSection, secIndex) {\n    \n    if (wordsInSection.join(\" \").includes(\")\") && wordsInSection.join(\" \").includes(\"(\")) { // Checks if the section contains a parenthesis. Possible block citation!\n      console.log(wordsInSection);\n      let citation = [];\n      let quote = [];\n      let i = 0;\n      let startedCitationIndex = 0;\n    \n      while (true) {\n        let word = wordsInSection[i];\n        \n        citation = findMlaCitations(word, startedCitationIndex, i, citation);\n        \n        if (citation[0].includes(\")\") && citation[0].includes(\"(\")) { // If citation was found\n          addQuote(quote.join(\" \"), secIndex, i);\n          addCitation(quote.join(\" \"), citation.join(\" \"), secIndex, i);\n          return true;\n          \n        } else if (!citation[0].includes(\"(\")) {\n          quote.push(word);\n        } else if (citation[0].includes(\"(\")) {\n          citation.push(word);\n        }\n        \n        i++;\n      }\n    }\n    return false;\n  }\n  \n  function findMlaCitations(word, startedCitationIndex, i, citation) {\n    \n    if (!word.includes(\"(\") && (citation === undefined)) { // If beginning of citation and doesn't include open parenthesis.\n      console.log(\"Citation does not come right after quote! WHOOPS\");\n      return [];\n      \n    } else if (word.includes(\"(\") && (startedCitationIndex === i)) { // If citation is right after quote.\n      \n      if (word.includes(\")\")) { // If word is also end of citation too.\n        const finalWord = removeMlaDecimal(word);\n        citation.push(finalWord);\n        return [citation.join(\" \")];\n      }\n      citation.push(word);\n      \n    } else if (word.includes(\")\")) { // If this is the end of the citation.\n      const finalWord = removeMlaDecimal(word);\n      citation.push(finalWord);\n      return [citation.join(\" \")];\n      \n    } else {\n      citation.push(word);\n    }\n    \n    return [citation.join(\" \")];\n  }\n  \n  /**\n   * Finds all of the quotes in MLA Format and adds them to the Quotes List! \n   */\n  function findMlaQuotes(startingIndex, inputSections, sectionWorksCited) {\n    \n    for (let secIndex = startingIndex; secIndex < sectionWorksCited-1; secIndex++) {\n      let currentSection = inputSections[secIndex].replace('\\t', \"\");\n      const wordsInSection = currentSection.split(\" \");\n      \n      if (wordsInSection.length < 2) { // We don't want empty sections!\n        continue;\n      }\n      \n      let containsQuoteInSection = false;\n      let containsCitationInSection = false;\n      let hasQuoteErrorInSection = false;\n      \n      /* Time to find the quotes in a section*/\n      for (let i = 0; i < wordsInSection.length; i++) {\n        let word = wordsInSection[i];\n        \n        let containsQuote = false;\n        let quote;\n        let errors = [];\n        \n        if (firstDoubleQuote_CharValues.includes(word.charCodeAt(0))) { // First quoted word found, now find the last.\n          let wordsInQuote = [];\n          wordsInQuote.push(word);\n          let wordsinSectionLength = wordsInSection.length -1;\n          \n          while (true) { // Checking word with ending quotation marks!\n            i++;\n            word = wordsInSection[i];\n            \n            word = removeMlaDecimal(word);\n            \n            const containsFinalQuote = (lastDoubleQuote_CharValues.includes(word.charCodeAt(word.length -1)));\n            wordsInQuote.push(word);\n            \n            if (containsFinalQuote) {\n              containsQuoteInSection = true;\n              containsQuote = true;\n              break;\n            } else if (word.includes(\"(\")) { // If a citation comes before an ending parenthesis, tell the user.\n              errors.push(\"Missing ending parenthesis. Is it possible that you missed one before the citation?\");\n              wordsInQuote.pop();\n              hasQuoteErrorInSection = true;\n              containsQuote = true;\n              break;\n            } else if (i === wordsinSectionLength) { // If this is the last word in the section and doesn't contain any quotes, tell the user.\n              errors.push(\"Missing ending quotation marks!\");\n              hasQuoteErrorInSection = true;\n              containsQuote = true;\n              break;\n            }\n          }\n          \n          quote = wordsInQuote.join(\" \");\n          \n          let startedCitationIndex = i+1;\n          let containsCitation = false;\n          let citation = [];\n          \n          // Get the citing of the quote after the quotation marks.\n          while (true) {\n            i++;\n            word = wordsInSection[i];\n            \n            if (firstDoubleQuote_CharValues.includes(word.charCodeAt(0))) { // Could mean that this quote could be associated with the next quote?\n              i--;\n              break;\n            }\n            \n            citation = findMlaCitations(word, startedCitationIndex, i, citation);\n            \n            if (citation[0].includes(\")\") && citation[0].includes(\"(\")) { // If citation was found\n              containsCitationInSection = true;\n              containsCitation = true;\n              break;\n            } else if (i === wordsInSection.length -1) {\n              break;\n            }\n          }\n          \n          if (containsCitation) {\n            citation = citation.join(\" \");\n          }\n          \n          \n          if (containsCitation && containsQuote) {\n            \n            addQuote(quote, secIndex, i);\n            addCitation(quote, citation, secIndex, i);\n            // Validate citation\n            let citationValid = validateCitationInText(wordsInSection, citation);\n            if (!citationValid) {\n              \n            }\n            \n          } else if (containsCitation && !containsQuote) {\n            addCitationError(citation, \"No quote exists for the given citation\");\n            \n          } else if (!containsCitation && containsQuote) {\n            // Could be a quote from different paragraph? Idk...\n            addQuote(quote, secIndex, i);\n            addQuoteError(quote, \"This quote does not have an in-text citation\");\n          }\n          \n          if (containsQuote && errors !== undefined) {\n            errors.forEach(error => {\n              addQuoteError(quote, error);\n            });\n          }\n          \n          //Repeat for multiple quotes/citations in paragraph.\n        }\n      }\n    \n      if (!containsQuoteInSection && !hasQuoteErrorInSection) { // If the section does not contain a quote in section or quote errors. Could it be a block citation?\n        containsCitationInSection = findMlaBlockCitation(wordsInSection, secIndex);\n      }\n      \n      if (containsQuoteInSection && !containsCitationInSection) { // This could possibly be a single cited paper!\n        \n      }\n      \n      if (!containsCitationInSection && !containsQuoteInSection) {\n        addDocumentError(\"No quote or citation exists for this paragraph!\", secIndex, 0);\n      }\n    }\n  }\n  \n  /**\n  * Author, Title of source, Title of container, Other contributors\n  * Version, Number, Publisher, Publication date, Location.\n  */\n  function findMlaWorksCited(sectionWorksCited, inputSections, totalNumberSections) {\n    \n    for (let secIndex = sectionWorksCited; secIndex < totalNumberSections; secIndex++) {\n      let mlaWorksCitedObj = new MLAWorksCitation(inputSections[secIndex], secIndex);\n      // DO NOT disable the comment below...\n      // eslint-disable-next-line\n      let sentences = inputSections[secIndex].match( /[^\\.!\\?]+[\\.!\\?]+/g );\n      // for (let sentIndex = 0; sentIndex < sentences.length)\n      let sentenceIndex = 0;\n      \n      if (sentences === undefined) {\n        addDocumentError(\"Add your works citations at the end of the paper under the Works Cited section!\", secIndex, 0);\n        return;\n      }\n      \n      /* Find Author and Author Acronym! */\n      let sentence = sentences[sentenceIndex].trim().replace('.', \"\");\n      let authorNames = sentence.split(\",\");\n      let authorErrors = [];\n      \n      if (authorNames === undefined) {\n        addDocumentError(\"Add your works citations at the end of the paper under the Works Cited section!\", secIndex, 0);\n        return;\n      }\n      \n      mlaWorksCitedObj.setAuthorIndex(sentenceIndex);\n      \n      if (authorNames.length === 1) {\n        mlaWorksCitedObj.setAuthor(authorNames[0]);\n        authorErrors.push(\"Author name must include first and last name in the following format\" +\n        \" 'Last Name, First Name (Optional: Middle Initial/Name).'\");\n      } else if (authorNames.length > 2) {\n        mlaWorksCitedObj.setAuthor(sentence);\n        authorErrors.push(\"Make sure to use the following format for the Author's name:\" +\n        \" 'Last Name, First Name (Optional: Middle Initial/Name).'\");\n      } else {\n        let lastNames = authorNames[0].trim().split(\" \");\n        let firstNames = authorNames[1].trim().split(\" \");\n        let fullname = [];\n        \n        firstNames.forEach(word => {\n          fullname.push(capitalizeFirstLetter(word.toLowerCase()));\n        });\n        lastNames.forEach(word => {\n          fullname.push(capitalizeFirstLetter(word.toLowerCase()));\n        });\n        \n        mlaWorksCitedObj.setAuthor(fullname.join(\" \"));\n        \n        let authorAcronym = [];\n        firstNames.forEach(word => {\n          authorAcronym.push(word.charAt(0));\n        });\n        lastNames.forEach(word => {\n          authorAcronym.push(word.charAt(0));\n        });\n        \n        mlaWorksCitedObj.setAuthorAcronym(authorAcronym.join(\"\"));\n        // console.log(authorAcronym);\n        // console.log(firstNames);\n        // console.log(lastNames);\n      }\n      \n      if (authorErrors !== undefined) {\n        let errors = mlaWorksCitedObj.getAuthorErrors();\n        \n        if (errors === undefined) {\n          errors = [];\n        }\n        authorErrors.forEach(error => {\n          errors.push(error);\n        });\n        \n        mlaWorksCitedObj.setAuthorErrors(errors);\n      }\n      \n      \n      \n      \n      sentenceIndex += 1;\n      /*   */\n      \n      worksCitedList.push(mlaWorksCitedObj);\n      \n    }\n    \n    if (worksCitedList[0] === undefined) {\n      return false;\n    }\n    \n    return true;\n  }\n  \n  function checkMlaHandler(e) {\n    e.preventDefault();\n    documentErrorList = [];\n    citationsErrorList = [];\n    dataEntriesList = [];\n    worksCitedList = [];\n    \n    const responseImportant = document.getElementById(\"responseImportant\");\n    responseImportant.innerHTML = \"\";\n    \n    const inputText = document.getElementById(\"inputText\").value;\n    \n    if (inputText.length > 0) {\n      responseImportant.style.backgroundColor = \"#FF006A\";\n      responseImportant.style.color = \"#FFF\";\n    }\n    \n    inputSections = inputText.split(\"\\n\");\n    if (inputSections.length <= 1) {\n      \n      if (inputSections[0].length > 1) {\n        responseImportant.innerHTML = \"Make sure you've copied your whole paper before checking! \" +\n        \"Include the following headers: Full Name, Teacher, Class Name, Today's Date.\";\n        return;\n      }\n      \n      responseImportant.innerHTML = \"Copy and paste your paper to start!\";\n      return;\n    }\n\n    /* Parse the headers! */\n    let hasExtraLinesInHeaders = false;\n    let hasMissingHeaders = false;\n    let startParsingIndex = 0;\n    let inputHeaders = [];\n    for (let i = 0; i < inputSections.length; i++) {\n      \n      if (inputSections[i].length < 1) {\n        hasExtraLinesInHeaders = true;\n        inputSections.splice(i, 1);\n        i--;\n      } else if (inputSections[i].length > 15) {\n        hasMissingHeaders = true;\n        break;\n      } else {\n        inputHeaders.push(inputSections[i]);\n      }\n      \n      if (inputHeaders !== undefined && inputHeaders.length === 4) {\n        break;\n      }\n    }\n\n    /* Input Headers handling!! */\n    if (inputHeaders === undefined) {\n      responseImportant.innerHTML = \"his paper is empty\";\n      return;\n    } else if (inputHeaders.length < 4) {\n      addDocumentError(\"Missing headers! Headers must include: your name, your teacher's name, class name, and current date.\", 0, 0);\n    }\n    if (hasExtraLinesInHeaders) {\n      addDocumentError(\"Consider removing the extra lines between headers of your document.\", 0, 0);\n    }\n    if (hasMissingHeaders) {\n      addDocumentError(\"Header/Title is missing! Headers must include: your name, your teacher's name, class name, and current date.\" +\n      \"If your title is over 15 words long, shorten it and click the Check Citation button again.\", 0, 0);\n    }\n    \n    /* Parse up until the Title! */\n    let inputTitle;\n    let hasExtraLinesBeforeTitle = false;\n    for (let i = inputHeaders.length; i < inputSections.length; i++) {\n      \n      if (inputSections[i].length < 2) {\n        hasExtraLinesBeforeTitle = true;\n        inputSections.splice(i, 1);\n        i--;\n      } else {\n        inputTitle = inputSections[i];\n        startParsingIndex = i+1;\n        break;\n      }\n    }\n    \n    /* Title Handling */\n    if (inputTitle === undefined) {\n      responseImportant.innerHTML = \"Please add more to your paper before checking!\";\n      return;\n    }\n    if (inputSections[startParsingIndex].length < 2 || hasExtraLinesBeforeTitle) {\n      addDocumentError(\"Consider removing the extra lines before and after the Title of your document.\");\n    }\n    \n    /* Parse the extra lines after the Title! We don't want to use them :) */\n    for (let i = startParsingIndex; i < inputSections.length; i++) {\n      if (inputSections[i].length < 2) {\n        inputSections.splice(i, 1);\n        i--;\n      }\n    }\n    \n    /* Removing any extra lines in the document.*/\n    startOfPaperIndex = undefined;\n    for (let i = 0; i < inputSections.length; i++) {\n      if (inputSections[i].length < 2) {\n        inputSections.splice(i, 1);\n        i--;\n      } else if (startOfPaperIndex === undefined && inputSections[i].split(\" \").length > 20) {\n        startOfPaperIndex = i;\n        break;\n      }\n    }\n    \n    if (startOfPaperIndex === undefined) {\n      responseImportant.innerHTML = \"Please add more to your paper before checking!\";\n      return;\n    }\n    \n    sectionWorksCited = undefined; \n    /* Give the section works cited the last section so the loop can work. */\n    for (let i = startParsingIndex; i < inputSections.length; i++) {\n      let text = inputSections[i].trim().split(\" \");\n      if (text.length === 2) {\n        text = text.join(\" \").toLowerCase();\n        if (text === \"works cited\" || text === \"references\" || text === \"bibliography\") {\n          sectionWorksCited = i;\n        }\n      }\n    }\n    \n    if (sectionWorksCited === undefined) {\n      sectionWorksCited = inputSections.length;\n      // addDocumentError(\"Please include a works cited page at the end of your document. If your works cited page exists,\" +\n      // \"make sure to have a single line named 'Works Cited' before the citations\", sectionWorksCited, inputSections.length -1);\n      responseImportant.innerHTML = \"Please include a works cited page at the end of your document. If your works cited page exists,\" +\n      \" make sure to have a single line named 'Works Cited' before the citations\";\n      return;\n    }\n    \n    /* Check for MLA Works Cited page and parse the works cited citations!*/\n    let hasWorksCitedCitations = false;\n    if (sectionWorksCited < inputSections.length) {\n      hasWorksCitedCitations = findMlaWorksCited(sectionWorksCited+1, inputSections, inputSections.length);\n    }\n    \n    if (!hasWorksCitedCitations) {\n      responseImportant.innerHTML = \"Add your source citations under your 'Works Cited' section at the end of the document.\";\n      return;\n    }\n    \n    console.log(inputSections);\n    console.log(startOfPaperIndex, sectionWorksCited);\n    /* Now find the in-text quotes/citations inside the paper sections!*/\n    findMlaQuotes(startOfPaperIndex, inputSections, sectionWorksCited);\n    \n    /* Check that citations alone are valid */\n    \n    // const root = document.getElementById(\"root\");\n    \n    /* This removes the nodes from the previous submitted text. */\n    // root.innerHTML = '';\n    \n    // const errorsRoot = document.getElementById(\"main-errors\");\n    // for (let i = 0; i < errors.length; i++) {\n    //   let errorText = document.createTextNode(errors[i]);\n    //   let error = document.createElement(\"th\");\n      \n    //   error.appendChild(errorText);\n      \n    //   let row = document.createElement(\"tr\");\n    //   row.appendChild(error);\n    //   errorsRoot.appendChild(row);\n    // }\n    \n    // for (let i = 0; i < citations.length; i++) {\n    //   let citationText = document.createTextNode(citations[i]);\n    //   let quoteText = document.createTextNode(quotes[i]);\n      \n    //   let quote = document.createElement(\"th\");\n    //   let citation = document.createElement(\"th\");\n    //   quote.appendChild(quoteText);\n    //   citation.appendChild(citationText);\n      \n    //   let row = document.createElement(\"tr\");\n    //   row.appendChild(quote);\n    //   row.appendChild(citation);\n      \n    //   root.appendChild(row);\n    // }\n    \n    \n    // for (let i = 0; i < dataEntriesList.length; i ++) {\n    //   let quoteKey = dataEntriesList[i];\n    //   console.log(quoteKey);\n    // }\n    console.log(dataEntriesList);\n    // console.log(inputSections);\n    // console.log(JSON.stringify(dataEntriesList));\n    console.log(citationsErrorList);\n    console.log(worksCitedList);\n    console.log(documentErrorList);\n    console.log(\"\\nEND\\n\\n\");\n    \n    responseImportant.innerHTML = \"See results below\";\n    responseImportant.style.backgroundColor = \"#3CD604\";\n    \n    updateDataState(dataEntriesList);\n  }\n  \n  return (\n    <div className=\"App\">\n      <div className=\"topContainer\">\n        <div className=\"container\">\n          <h1>Citation Checker</h1>\n          <form className=\"inputForm\" autoComplete=\"off\">\n            <div className=\"input-field\">\n              <textarea onBlur={inputTextChangeHandler} id=\"inputText\" type=\"text\" required/>\n              <label id=\"responseImportant\">Copy and paste your text here</label>\n              <span></span>\n            </div>\n            <div className=\"bottom-row\">\n              <input onClick={checkMlaHandler} type=\"submit\" value=\"Check Paper\" name=\"\" className=\"btn\"/>\n            </div>\n          </form>\n        </div>\n      </div>\n      \n      {hasData.map(section => {\n        return <div>{section.getQuote()}</div>;\n      })}\n      \n      {\n      // <div className=\"container\">\n      //   <h1 id=\"resultsTitle\"></h1>\n      //   <div id=\"result\" className=\"result\">\n      //   </div>\n      // </div>\n      }\n      \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,SAAQA,KAAK,QAAO,mBAAmB;AACvC,SAAQC,aAAa,QAAO,2BAA2B;AACvD,SAAQC,aAAa,QAAO,2BAA2B;AACvD,SAAQC,gBAAgB,QAAO,8BAA8B;AAC7D,SAAQC,QAAQ,QAAO,OAAO;AAAC;AAE/B,SAASC,GAAG,GAAG;EAAA;EAEb,IAAIC,iBAAiB;EACrB,IAAIC,eAAe;EACnB,IAAIC,kBAAkB;EACtB,IAAIC,cAAc;EAClB,IAAIC,aAAa;EACjB,IAAIC,iBAAiB;EACrB,IAAIC,iBAAiB;EACrB,MAAM,CAACC,OAAO,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC/C,MAAMW,2BAA2B,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;EAC9C,MAAMC,0BAA0B,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC;EAC7C;;EAEA;EACA;;EAEA,SAASC,sBAAsB,CAACC,CAAC,EAAE;IACjCA,CAAC,CAACC,cAAc,EAAE;IAElB,IAAIC,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,KAAK;IAE1D,IAAIH,SAAS,CAACI,MAAM,KAAK,CAAC,EAAE;MAC1B,MAAMC,iBAAiB,GAAGJ,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAC;MACtEG,iBAAiB,CAACC,SAAS,GAAG,+BAA+B;MAC7D;IACF;EACF;;EAEA,SAASC,eAAe,CAACC,KAAK,EAAE;IAC9B,IAAIb,2BAA2B,CAACc,QAAQ,CAACD,KAAK,CAACE,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;MAC7DF,KAAK,GAAGA,KAAK,CAACG,SAAS,CAAC,CAAC,CAAC;IAC5B;IACA,IAAIf,0BAA0B,CAACa,QAAQ,CAACD,KAAK,CAACE,UAAU,CAACF,KAAK,CAACJ,MAAM,GAAE,CAAC,CAAC,CAAC,EAAE;MAC1EI,KAAK,GAAGA,KAAK,CAACG,SAAS,CAAC,CAAC,EAAGH,KAAK,CAACJ,MAAM,GAAE,CAAC,CAAE;IAC/C;IACAI,KAAK,CAACI,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAEvB,OAAOJ,KAAK;EACd;EAEA,SAASK,gBAAgB,CAACL,KAAK,EAAEM,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,EAAEC,YAAY,EAAE;IACxET,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC;IAC9B,IAAIU,kBAAkB,GAAG,KAAK;IAE9B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhC,eAAe,CAACiB,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC/C,IAAIC,YAAY,GAAGjC,eAAe,CAACgC,CAAC,CAAC,CAACE,QAAQ,EAAE;MAEhD,IAAIb,KAAK,KAAKY,YAAY,EAAE;QAC1BF,kBAAkB,GAAG,IAAI;QACzB,IAAII,WAAW,GAAGC,cAAc,CAACf,KAAK,CAAC;QACvC,IAAIgB,eAAe,GAAGF,WAAW,CAACG,WAAW,EAAE;QAC/C,IAAIC,cAAc,GAAGJ,WAAW,CAACK,iBAAiB,EAAE;QAEpD,IAAID,cAAc,KAAKE,SAAS,EAAE;UAChCF,cAAc,GAAG,EAAE;QACrB;QAEA,IAAIZ,QAAQ,KAAKU,eAAe,EAAE;UAChCE,cAAc,CAACG,IAAI,CAAC,+CAA+C,CAAC;UACpE;QAEF,CAAC,MAAM;UACLH,cAAc,CAACG,IAAI,CAACZ,YAAY,CAAC;QAEnC;QAEAK,WAAW,CAACQ,iBAAiB,CAACb,YAAY,CAAC;QAC3C9B,eAAe,CAAC0C,IAAI,CAACP,WAAW,CAAC;QACjC;MACF;IACF;IAEA,IAAI,CAACJ,kBAAkB,EAAE;MACvB,IAAIa,cAAc;MAElB,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/B,kBAAkB,CAACgB,MAAM,EAAEe,CAAC,EAAE,EAAE;QAClD,IAAIK,eAAe,GAAGpC,kBAAkB,CAAC+B,CAAC,CAAC,CAACM,WAAW,EAAE;QAEzD,IAAIX,QAAQ,KAAKU,eAAe,EAAE;UAChCO,cAAc,GAAG3C,kBAAkB,CAAC+B,CAAC,CAAC;UACtC,IAAIO,cAAc,GAAGK,cAAc,CAACJ,iBAAiB,EAAE;UAEvD,IAAID,cAAc,KAAKE,SAAS,EAAE;YAChCF,cAAc,GAAG,EAAE;UACrB;UAEAA,cAAc,CAACG,IAAI,CAAC,+BAA+B,CAAC;UACpDE,cAAc,CAACD,iBAAiB,CAACJ,cAAc,CAAC;UAChD;QACF;MACF;MAEA,IAAIK,cAAc,KAAKH,SAAS,EAAE;QAChC,IAAIG,cAAc,GAAG,IAAIlD,aAAa,CAACiC,QAAQ,CAAC;QAChD,IAAIY,cAAc,GAAG,CAACT,YAAY,CAAC;QACnCc,cAAc,CAACD,iBAAiB,CAACJ,cAAc,CAAC;MAElD;MAEAtC,kBAAkB,CAACyC,IAAI,CAACE,cAAc,CAAC;IACzC;EACF;;EAEA;EACA,SAASC,WAAW,CAACxB,KAAK,EAAEM,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,EAAE;IACrDR,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC;IAC9B,IAAIc,WAAW,GAAGM,SAAS;IAE3B,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhC,eAAe,CAACiB,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC/C,IAAIC,YAAY,GAAGjC,eAAe,CAACgC,CAAC,CAAC,CAACE,QAAQ,EAAE;MAEhD,IAAIb,KAAK,KAAKY,YAAY,EAAE;QAC1BE,WAAW,GAAGC,cAAc,CAACf,KAAK,CAAC;QACnC,IAAIyB,WAAW,GAAGX,WAAW,CAACG,WAAW,EAAE;QAE3C,IAAIQ,WAAW,KAAKL,SAAS,EAAE;UAC7BN,WAAW,CAACY,WAAW,CAACpB,QAAQ,CAAC;UACjCQ,WAAW,CAACa,gBAAgB,CAACnB,KAAK,GAAGF,QAAQ,CAACsB,KAAK,CAAC,GAAG,CAAC,CAAChC,MAAM,CAAC;UAChEkB,WAAW,CAACe,kBAAkB,CAACtB,QAAQ,CAAC;QAE1C,CAAC,MAAM;UACLO,WAAW,CAACgB,gBAAgB,CAAC,kEAAkE,CAAC;UAChGzB,gBAAgB,CAACL,KAAK,EAAEM,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,CAAC;QACpD;QAEA7B,eAAe,CAAC0C,IAAI,CAACP,WAAW,CAAC;QACjC;MACF;IACF;IAEA,IAAIA,WAAW,KAAKM,SAAS,EAAE;MAAE;MAC/B,IAAIW,iBAAiB,GAAG,KAAK;MAE7B,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/B,kBAAkB,CAACgB,MAAM,EAAEe,CAAC,EAAE,EAAE;QAAE;QACpD,IAAIK,eAAe,GAAGpC,kBAAkB,CAAC+B,CAAC,CAAC,CAACM,WAAW,EAAE;QAEzD,IAAIX,QAAQ,KAAKU,eAAe,EAAE;UAChCe,iBAAiB,GAAG,IAAI;UACxB,IAAIR,cAAc,GAAGS,iBAAiB,CAAC1B,QAAQ,CAAC;UAChD2B,OAAO,CAACC,GAAG,CAACX,cAAc,CAAC;UAC3B,IAAIL,cAAc,GAAGK,cAAc,CAACJ,iBAAiB,EAAE;UAEvD,IAAID,cAAc,KAAKE,SAAS,EAAE;YAChCF,cAAc,GAAG,EAAE;UACrB;UACAA,cAAc,CAACG,IAAI,CAAC,6DAA6D,CAAC;UAClFE,cAAc,CAACD,iBAAiB,CAACJ,cAAc,CAAC;UAChDtC,kBAAkB,CAACyC,IAAI,CAACE,cAAc,CAAC;UACvC;QACF;MACF;MAEA,IAAI,CAACQ,iBAAiB,EAAE;QACtB,IAAIR,cAAc,GAAG,IAAIlD,aAAa,CAACiC,QAAQ,CAAC;QAChD1B,kBAAkB,CAACyC,IAAI,CAACE,cAAc,CAAC;MACzC;IACF;EAEF;EAEA,SAASS,iBAAiB,CAAC1B,QAAQ,EAAE;IACnC,IAAIiB,cAAc;IAElB,KAAK,IAAIZ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/B,kBAAkB,CAACgB,MAAM,EAAEe,CAAC,EAAE,EAAE;MAClD,IAAIK,eAAe,GAAGpC,kBAAkB,CAAC+B,CAAC,CAAC,CAACM,WAAW,EAAE;MAEzD,IAAIX,QAAQ,KAAKU,eAAe,EAAE;QAChCO,cAAc,GAAG3C,kBAAkB,CAACuD,MAAM,CAACxB,CAAC,EAAE,CAAC,CAAC;QAChDY,cAAc,GAAGA,cAAc,CAAC,CAAC,CAAC;QAClC;MACF;IACF;IACA,OAAOA,cAAc;EACvB;EAEA,SAASR,cAAc,CAACf,KAAK,EAAE;IAC7BA,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC;IAC9B,IAAIc,WAAW;IAEf,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhC,eAAe,CAACiB,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC/C,IAAIC,YAAY,GAAGjC,eAAe,CAACgC,CAAC,CAAC,CAACE,QAAQ,EAAE;MAEhD,IAAIb,KAAK,KAAKY,YAAY,EAAE;QAC1BE,WAAW,GAAGnC,eAAe,CAACwD,MAAM,CAACxB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC5CG,WAAW,GAAGA,WAAW,CAAC,CAAC,CAAC;QAE5B;MACF;IACF;IACA,OAAOA,WAAW;EACpB;EAEA,SAASsB,QAAQ,CAACpC,KAAK,EAAEO,QAAQ,EAAEC,KAAK,EAAE;IACxCR,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC;IAC9B,IAAIc,WAAW;IAEf,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhC,eAAe,CAACiB,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC/C,IAAIC,YAAY,GAAGjC,eAAe,CAACgC,CAAC,CAAC,CAACE,QAAQ,EAAE;MAEhD,IAAIb,KAAK,KAAKY,YAAY,EAAE;QAC1BE,WAAW,GAAGC,cAAc,CAACf,KAAK,CAAC;QACnC,IAAIqC,WAAW,GAAGvB,WAAW,CAACwB,cAAc,EAAE;QAE9C,IAAID,WAAW,KAAKjB,SAAS,EAAE;UAC7BiB,WAAW,GAAG,EAAE;QAClB;QAEAA,WAAW,CAAChB,IAAI,CAAC,4CAA4C,CAAC;QAC9DP,WAAW,CAACyB,cAAc,CAACF,WAAW,CAAC;QACvC;MACF;IACF;IAEA,IAAIvB,WAAW,KAAKM,SAAS,EAAE;MAC7BN,WAAW,GAAG,IAAI1C,KAAK,CAAC4B,KAAK,CAAC;MAC9B,IAAIqC,WAAW,GAAG,EAAE;MAEpBvB,WAAW,CAACyB,cAAc,CAACF,WAAW,CAAC;MACvCvB,WAAW,CAAC0B,aAAa,CAAChC,KAAK,GAAGR,KAAK,CAAC4B,KAAK,CAAC,GAAG,CAAC,CAAChC,MAAM,CAAC;MAC1DkB,WAAW,CAAC2B,eAAe,CAAClC,QAAQ,CAAC;IACvC;IAEA5B,eAAe,CAAC0C,IAAI,CAACP,WAAW,CAAC;EACnC;EAEA,SAAS4B,aAAa,CAAC1C,KAAK,EAAES,YAAY,EAAE;IAC1CT,KAAK,GAAGD,eAAe,CAACC,KAAK,CAAC;IAE9B,IAAIc,WAAW,GAAGC,cAAc,CAACf,KAAK,CAAC;IAEvC,IAAIc,WAAW,KAAKM,SAAS,EAAE;MAC7Ba,OAAO,CAACC,GAAG,CAAC,+DAA+D,CAAC;MAC5E,OAAOd,SAAS;IAClB;IAEA,IAAIiB,WAAW,GAAGvB,WAAW,CAACwB,cAAc,EAAE;IAC9C,IAAID,WAAW,KAAKjB,SAAS,EAAE;MAC7BiB,WAAW,GAAG,EAAE;IAClB;IAEAA,WAAW,CAAChB,IAAI,CAACZ,YAAY,CAAC;IAC9BK,WAAW,CAACyB,cAAc,CAACF,WAAW,CAAC;IAEvC1D,eAAe,CAACgE,OAAO,CAAC7B,WAAW,CAAC;EACtC;EAEA,SAAS8B,gBAAgB,CAACnC,YAAY,EAAEF,QAAQ,EAAEC,KAAK,EAAE;IACvD,IAAIqC,mBAAmB,GAAG,IAAIvE,aAAa,CAACmC,YAAY,EAAEF,QAAQ,EAAEC,KAAK,CAAC;IAC1E9B,iBAAiB,CAAC2C,IAAI,CAACwB,mBAAmB,CAAC;EAC7C;EAEA,SAASC,gBAAgB,CAACC,IAAI,EAAE;IAC9B,MAAMC,KAAK,GAAGD,IAAI,CAACnB,KAAK,CAAC,EAAE,CAAC;IAC5B,IAAIoB,KAAK,CAAED,IAAI,CAACnD,MAAM,GAAC,CAAC,CAAE,KAAK,GAAG,EAAE;MAAE;MACpC,MAAMqD,MAAM,GAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAChC,OAAOD,MAAM;IACf,CAAC,MAAM;MACL,OAAOF,IAAI;IACb;EACF;EAEA,SAASI,qBAAqB,CAACJ,IAAI,EAAE;IACnC,OAAOA,IAAI,CAACK,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGN,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC;EACrD;;EAEA;EACA,SAASI,sBAAsB,CAACC,cAAc,EAAEjD,QAAQ,EAAE;IACxD;IACA;IACA,IAAIkD,SAAS,GAAGD,cAAc,CAACE,IAAI,CAAC,GAAG,CAAC,CAACC,KAAK,CAAE,oBAAoB,CAAE;IAEtE,IAAIC,8BAA8B,GAAG,EAAE;IACvC;;IAEA,KAAK,IAAIC,aAAa,GAAG,CAAC,EAAEA,aAAa,GAAGL,cAAc,CAAC3D,MAAM,EAAEgE,aAAa,EAAE,EAAE;MAClF,IAAIC,QAAQ,GAAGL,SAAS,CAACI,aAAa,CAAC;MACvC,IAAIE,2BAA2B,GAAG,KAAK;MACvC,IAAIC,wBAAwB,GAAG,KAAK;MAEpC,IAAIF,QAAQ,KAAKzC,SAAS,EAAE;QAC1B;MACF;MAEA,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkD,QAAQ,CAACjE,MAAM,EAAEe,CAAC,EAAE,EAAE;QACxC,IAAIqD,SAAS,GAAGH,QAAQ,CAAClD,CAAC,CAAC;QAE3B,IAAI,CAACmD,2BAA2B,IAAI3E,2BAA2B,CAACc,QAAQ,CAAC+D,SAAS,CAAC9D,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;UACjG4D,2BAA2B,GAAG,IAAI;QAEpC,CAAC,MAAM,IAAI,CAACC,wBAAwB,IAAI3E,0BAA0B,CAACa,QAAQ,CAAC+D,SAAS,CAAC9D,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;UACpG6D,wBAAwB,GAAG,IAAI;UAC/B;UACA;QAEF;MAEF;MAEA,IAAID,2BAA2B,EAAE;QAC/BH,8BAA8B,CAACtC,IAAI,CAACwC,QAAQ,CAAC;QAC7C;QACA;;QAEA,IAAIE,wBAAwB,EAAE;UAAE;UAC9B;UACA,OAAO,IAAI;QACb;MACF;IACF;IACA,OAAO,KAAK;EACd;EAEA,SAASE,oBAAoB,CAACV,cAAc,EAAEhD,QAAQ,EAAE;IAEtD,IAAIgD,cAAc,CAACE,IAAI,CAAC,GAAG,CAAC,CAACxD,QAAQ,CAAC,GAAG,CAAC,IAAIsD,cAAc,CAACE,IAAI,CAAC,GAAG,CAAC,CAACxD,QAAQ,CAAC,GAAG,CAAC,EAAE;MAAE;MACtFgC,OAAO,CAACC,GAAG,CAACqB,cAAc,CAAC;MAC3B,IAAIjD,QAAQ,GAAG,EAAE;MACjB,IAAIN,KAAK,GAAG,EAAE;MACd,IAAIW,CAAC,GAAG,CAAC;MACT,IAAIuD,oBAAoB,GAAG,CAAC;MAE5B,OAAO,IAAI,EAAE;QACX,IAAInB,IAAI,GAAGQ,cAAc,CAAC5C,CAAC,CAAC;QAE5BL,QAAQ,GAAG6D,gBAAgB,CAACpB,IAAI,EAAEmB,oBAAoB,EAAEvD,CAAC,EAAEL,QAAQ,CAAC;QAEpE,IAAIA,QAAQ,CAAC,CAAC,CAAC,CAACL,QAAQ,CAAC,GAAG,CAAC,IAAIK,QAAQ,CAAC,CAAC,CAAC,CAACL,QAAQ,CAAC,GAAG,CAAC,EAAE;UAAE;UAC5DmC,QAAQ,CAACpC,KAAK,CAACyD,IAAI,CAAC,GAAG,CAAC,EAAElD,QAAQ,EAAEI,CAAC,CAAC;UACtCa,WAAW,CAACxB,KAAK,CAACyD,IAAI,CAAC,GAAG,CAAC,EAAEnD,QAAQ,CAACmD,IAAI,CAAC,GAAG,CAAC,EAAElD,QAAQ,EAAEI,CAAC,CAAC;UAC7D,OAAO,IAAI;QAEb,CAAC,MAAM,IAAI,CAACL,QAAQ,CAAC,CAAC,CAAC,CAACL,QAAQ,CAAC,GAAG,CAAC,EAAE;UACrCD,KAAK,CAACqB,IAAI,CAAC0B,IAAI,CAAC;QAClB,CAAC,MAAM,IAAIzC,QAAQ,CAAC,CAAC,CAAC,CAACL,QAAQ,CAAC,GAAG,CAAC,EAAE;UACpCK,QAAQ,CAACe,IAAI,CAAC0B,IAAI,CAAC;QACrB;QAEApC,CAAC,EAAE;MACL;IACF;IACA,OAAO,KAAK;EACd;EAEA,SAASwD,gBAAgB,CAACpB,IAAI,EAAEmB,oBAAoB,EAAEvD,CAAC,EAAEL,QAAQ,EAAE;IAEjE,IAAI,CAACyC,IAAI,CAAC9C,QAAQ,CAAC,GAAG,CAAC,IAAKK,QAAQ,KAAKc,SAAU,EAAE;MAAE;MACrDa,OAAO,CAACC,GAAG,CAAC,kDAAkD,CAAC;MAC/D,OAAO,EAAE;IAEX,CAAC,MAAM,IAAIa,IAAI,CAAC9C,QAAQ,CAAC,GAAG,CAAC,IAAKiE,oBAAoB,KAAKvD,CAAE,EAAE;MAAE;;MAE/D,IAAIoC,IAAI,CAAC9C,QAAQ,CAAC,GAAG,CAAC,EAAE;QAAE;QACxB,MAAMmE,SAAS,GAAGtB,gBAAgB,CAACC,IAAI,CAAC;QACxCzC,QAAQ,CAACe,IAAI,CAAC+C,SAAS,CAAC;QACxB,OAAO,CAAC9D,QAAQ,CAACmD,IAAI,CAAC,GAAG,CAAC,CAAC;MAC7B;MACAnD,QAAQ,CAACe,IAAI,CAAC0B,IAAI,CAAC;IAErB,CAAC,MAAM,IAAIA,IAAI,CAAC9C,QAAQ,CAAC,GAAG,CAAC,EAAE;MAAE;MAC/B,MAAMmE,SAAS,GAAGtB,gBAAgB,CAACC,IAAI,CAAC;MACxCzC,QAAQ,CAACe,IAAI,CAAC+C,SAAS,CAAC;MACxB,OAAO,CAAC9D,QAAQ,CAACmD,IAAI,CAAC,GAAG,CAAC,CAAC;IAE7B,CAAC,MAAM;MACLnD,QAAQ,CAACe,IAAI,CAAC0B,IAAI,CAAC;IACrB;IAEA,OAAO,CAACzC,QAAQ,CAACmD,IAAI,CAAC,GAAG,CAAC,CAAC;EAC7B;;EAEA;AACF;AACA;EACE,SAASY,aAAa,CAACC,aAAa,EAAExF,aAAa,EAAEE,iBAAiB,EAAE;IAEtE,KAAK,IAAIuB,QAAQ,GAAG+D,aAAa,EAAE/D,QAAQ,GAAGvB,iBAAiB,GAAC,CAAC,EAAEuB,QAAQ,EAAE,EAAE;MAC7E,IAAIgE,cAAc,GAAGzF,aAAa,CAACyB,QAAQ,CAAC,CAACH,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;MAC9D,MAAMmD,cAAc,GAAGgB,cAAc,CAAC3C,KAAK,CAAC,GAAG,CAAC;MAEhD,IAAI2B,cAAc,CAAC3D,MAAM,GAAG,CAAC,EAAE;QAAE;QAC/B;MACF;MAEA,IAAI4E,sBAAsB,GAAG,KAAK;MAClC,IAAIC,yBAAyB,GAAG,KAAK;MACrC,IAAIC,sBAAsB,GAAG,KAAK;;MAElC;MACA,KAAK,IAAI/D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4C,cAAc,CAAC3D,MAAM,EAAEe,CAAC,EAAE,EAAE;QAC9C,IAAIoC,IAAI,GAAGQ,cAAc,CAAC5C,CAAC,CAAC;QAE5B,IAAIgE,aAAa,GAAG,KAAK;QACzB,IAAI3E,KAAK;QACT,IAAI4E,MAAM,GAAG,EAAE;QAEf,IAAIzF,2BAA2B,CAACc,QAAQ,CAAC8C,IAAI,CAAC7C,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;UAAE;UAC9D,IAAI2E,YAAY,GAAG,EAAE;UACrBA,YAAY,CAACxD,IAAI,CAAC0B,IAAI,CAAC;UACvB,IAAI+B,oBAAoB,GAAGvB,cAAc,CAAC3D,MAAM,GAAE,CAAC;UAEnD,OAAO,IAAI,EAAE;YAAE;YACbe,CAAC,EAAE;YACHoC,IAAI,GAAGQ,cAAc,CAAC5C,CAAC,CAAC;YAExBoC,IAAI,GAAGD,gBAAgB,CAACC,IAAI,CAAC;YAE7B,MAAMgC,kBAAkB,GAAI3F,0BAA0B,CAACa,QAAQ,CAAC8C,IAAI,CAAC7C,UAAU,CAAC6C,IAAI,CAACnD,MAAM,GAAE,CAAC,CAAC,CAAE;YACjGiF,YAAY,CAACxD,IAAI,CAAC0B,IAAI,CAAC;YAEvB,IAAIgC,kBAAkB,EAAE;cACtBP,sBAAsB,GAAG,IAAI;cAC7BG,aAAa,GAAG,IAAI;cACpB;YACF,CAAC,MAAM,IAAI5B,IAAI,CAAC9C,QAAQ,CAAC,GAAG,CAAC,EAAE;cAAE;cAC/B2E,MAAM,CAACvD,IAAI,CAAC,qFAAqF,CAAC;cAClGwD,YAAY,CAACG,GAAG,EAAE;cAClBN,sBAAsB,GAAG,IAAI;cAC7BC,aAAa,GAAG,IAAI;cACpB;YACF,CAAC,MAAM,IAAIhE,CAAC,KAAKmE,oBAAoB,EAAE;cAAE;cACvCF,MAAM,CAACvD,IAAI,CAAC,iCAAiC,CAAC;cAC9CqD,sBAAsB,GAAG,IAAI;cAC7BC,aAAa,GAAG,IAAI;cACpB;YACF;UACF;UAEA3E,KAAK,GAAG6E,YAAY,CAACpB,IAAI,CAAC,GAAG,CAAC;UAE9B,IAAIS,oBAAoB,GAAGvD,CAAC,GAAC,CAAC;UAC9B,IAAIsE,gBAAgB,GAAG,KAAK;UAC5B,IAAI3E,QAAQ,GAAG,EAAE;;UAEjB;UACA,OAAO,IAAI,EAAE;YACXK,CAAC,EAAE;YACHoC,IAAI,GAAGQ,cAAc,CAAC5C,CAAC,CAAC;YAExB,IAAIxB,2BAA2B,CAACc,QAAQ,CAAC8C,IAAI,CAAC7C,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE;cAAE;cAC9DS,CAAC,EAAE;cACH;YACF;YAEAL,QAAQ,GAAG6D,gBAAgB,CAACpB,IAAI,EAAEmB,oBAAoB,EAAEvD,CAAC,EAAEL,QAAQ,CAAC;YAEpE,IAAIA,QAAQ,CAAC,CAAC,CAAC,CAACL,QAAQ,CAAC,GAAG,CAAC,IAAIK,QAAQ,CAAC,CAAC,CAAC,CAACL,QAAQ,CAAC,GAAG,CAAC,EAAE;cAAE;cAC5DwE,yBAAyB,GAAG,IAAI;cAChCQ,gBAAgB,GAAG,IAAI;cACvB;YACF,CAAC,MAAM,IAAItE,CAAC,KAAK4C,cAAc,CAAC3D,MAAM,GAAE,CAAC,EAAE;cACzC;YACF;UACF;UAEA,IAAIqF,gBAAgB,EAAE;YACpB3E,QAAQ,GAAGA,QAAQ,CAACmD,IAAI,CAAC,GAAG,CAAC;UAC/B;UAGA,IAAIwB,gBAAgB,IAAIN,aAAa,EAAE;YAErCvC,QAAQ,CAACpC,KAAK,EAAEO,QAAQ,EAAEI,CAAC,CAAC;YAC5Ba,WAAW,CAACxB,KAAK,EAAEM,QAAQ,EAAEC,QAAQ,EAAEI,CAAC,CAAC;YACzC;YACA,IAAIuE,aAAa,GAAG5B,sBAAsB,CAACC,cAAc,EAAEjD,QAAQ,CAAC;YACpE,IAAI,CAAC4E,aAAa,EAAE,CAEpB;UAEF,CAAC,MAAM,IAAID,gBAAgB,IAAI,CAACN,aAAa,EAAE;YAC7CtE,gBAAgB,CAACC,QAAQ,EAAE,wCAAwC,CAAC;UAEtE,CAAC,MAAM,IAAI,CAAC2E,gBAAgB,IAAIN,aAAa,EAAE;YAC7C;YACAvC,QAAQ,CAACpC,KAAK,EAAEO,QAAQ,EAAEI,CAAC,CAAC;YAC5B+B,aAAa,CAAC1C,KAAK,EAAE,8CAA8C,CAAC;UACtE;UAEA,IAAI2E,aAAa,IAAIC,MAAM,KAAKxD,SAAS,EAAE;YACzCwD,MAAM,CAACO,OAAO,CAACC,KAAK,IAAI;cACtB1C,aAAa,CAAC1C,KAAK,EAAEoF,KAAK,CAAC;YAC7B,CAAC,CAAC;UACJ;;UAEA;QACF;MACF;;MAEA,IAAI,CAACZ,sBAAsB,IAAI,CAACE,sBAAsB,EAAE;QAAE;QACxDD,yBAAyB,GAAGR,oBAAoB,CAACV,cAAc,EAAEhD,QAAQ,CAAC;MAC5E;MAEA,IAAIiE,sBAAsB,IAAI,CAACC,yBAAyB,EAAE,CAAE;MAAA;MAI5D,IAAI,CAACA,yBAAyB,IAAI,CAACD,sBAAsB,EAAE;QACzD5B,gBAAgB,CAAC,iDAAiD,EAAErC,QAAQ,EAAE,CAAC,CAAC;MAClF;IACF;EACF;;EAEA;AACF;AACA;AACA;EACE,SAAS8E,iBAAiB,CAACrG,iBAAiB,EAAEF,aAAa,EAAEwG,mBAAmB,EAAE;IAEhF,KAAK,IAAI/E,QAAQ,GAAGvB,iBAAiB,EAAEuB,QAAQ,GAAG+E,mBAAmB,EAAE/E,QAAQ,EAAE,EAAE;MACjF,IAAIgF,gBAAgB,GAAG,IAAIhH,gBAAgB,CAACO,aAAa,CAACyB,QAAQ,CAAC,EAAEA,QAAQ,CAAC;MAC9E;MACA;MACA,IAAIiD,SAAS,GAAG1E,aAAa,CAACyB,QAAQ,CAAC,CAACmD,KAAK,CAAE,oBAAoB,CAAE;MACrE;MACA,IAAIE,aAAa,GAAG,CAAC;MAErB,IAAIJ,SAAS,KAAKpC,SAAS,EAAE;QAC3BwB,gBAAgB,CAAC,iFAAiF,EAAErC,QAAQ,EAAE,CAAC,CAAC;QAChH;MACF;;MAEA;MACA,IAAIsD,QAAQ,GAAGL,SAAS,CAACI,aAAa,CAAC,CAAC4B,IAAI,EAAE,CAACpF,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;MAC/D,IAAIqF,WAAW,GAAG5B,QAAQ,CAACjC,KAAK,CAAC,GAAG,CAAC;MACrC,IAAI8D,YAAY,GAAG,EAAE;MAErB,IAAID,WAAW,KAAKrE,SAAS,EAAE;QAC7BwB,gBAAgB,CAAC,iFAAiF,EAAErC,QAAQ,EAAE,CAAC,CAAC;QAChH;MACF;MAEAgF,gBAAgB,CAACI,cAAc,CAAC/B,aAAa,CAAC;MAE9C,IAAI6B,WAAW,CAAC7F,MAAM,KAAK,CAAC,EAAE;QAC5B2F,gBAAgB,CAACK,SAAS,CAACH,WAAW,CAAC,CAAC,CAAC,CAAC;QAC1CC,YAAY,CAACrE,IAAI,CAAC,sEAAsE,GACxF,2DAA2D,CAAC;MAC9D,CAAC,MAAM,IAAIoE,WAAW,CAAC7F,MAAM,GAAG,CAAC,EAAE;QACjC2F,gBAAgB,CAACK,SAAS,CAAC/B,QAAQ,CAAC;QACpC6B,YAAY,CAACrE,IAAI,CAAC,8DAA8D,GAChF,2DAA2D,CAAC;MAC9D,CAAC,MAAM;QACL,IAAIwE,SAAS,GAAGJ,WAAW,CAAC,CAAC,CAAC,CAACD,IAAI,EAAE,CAAC5D,KAAK,CAAC,GAAG,CAAC;QAChD,IAAIkE,UAAU,GAAGL,WAAW,CAAC,CAAC,CAAC,CAACD,IAAI,EAAE,CAAC5D,KAAK,CAAC,GAAG,CAAC;QACjD,IAAImE,QAAQ,GAAG,EAAE;QAEjBD,UAAU,CAACX,OAAO,CAACpC,IAAI,IAAI;UACzBgD,QAAQ,CAAC1E,IAAI,CAAC8B,qBAAqB,CAACJ,IAAI,CAACiD,WAAW,EAAE,CAAC,CAAC;QAC1D,CAAC,CAAC;QACFH,SAAS,CAACV,OAAO,CAACpC,IAAI,IAAI;UACxBgD,QAAQ,CAAC1E,IAAI,CAAC8B,qBAAqB,CAACJ,IAAI,CAACiD,WAAW,EAAE,CAAC,CAAC;QAC1D,CAAC,CAAC;QAEFT,gBAAgB,CAACK,SAAS,CAACG,QAAQ,CAACtC,IAAI,CAAC,GAAG,CAAC,CAAC;QAE9C,IAAIwC,aAAa,GAAG,EAAE;QACtBH,UAAU,CAACX,OAAO,CAACpC,IAAI,IAAI;UACzBkD,aAAa,CAAC5E,IAAI,CAAC0B,IAAI,CAACK,MAAM,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC;QACFyC,SAAS,CAACV,OAAO,CAACpC,IAAI,IAAI;UACxBkD,aAAa,CAAC5E,IAAI,CAAC0B,IAAI,CAACK,MAAM,CAAC,CAAC,CAAC,CAAC;QACpC,CAAC,CAAC;QAEFmC,gBAAgB,CAACW,gBAAgB,CAACD,aAAa,CAACxC,IAAI,CAAC,EAAE,CAAC,CAAC;QACzD;QACA;QACA;MACF;;MAEA,IAAIiC,YAAY,KAAKtE,SAAS,EAAE;QAC9B,IAAIwD,MAAM,GAAGW,gBAAgB,CAACY,eAAe,EAAE;QAE/C,IAAIvB,MAAM,KAAKxD,SAAS,EAAE;UACxBwD,MAAM,GAAG,EAAE;QACb;QACAc,YAAY,CAACP,OAAO,CAACC,KAAK,IAAI;UAC5BR,MAAM,CAACvD,IAAI,CAAC+D,KAAK,CAAC;QACpB,CAAC,CAAC;QAEFG,gBAAgB,CAACa,eAAe,CAACxB,MAAM,CAAC;MAC1C;MAKAhB,aAAa,IAAI,CAAC;MAClB;;MAEA/E,cAAc,CAACwC,IAAI,CAACkE,gBAAgB,CAAC;IAEvC;IAEA,IAAI1G,cAAc,CAAC,CAAC,CAAC,KAAKuC,SAAS,EAAE;MACnC,OAAO,KAAK;IACd;IAEA,OAAO,IAAI;EACb;EAEA,SAASiF,eAAe,CAAC/G,CAAC,EAAE;IAC1BA,CAAC,CAACC,cAAc,EAAE;IAClBb,iBAAiB,GAAG,EAAE;IACtBE,kBAAkB,GAAG,EAAE;IACvBD,eAAe,GAAG,EAAE;IACpBE,cAAc,GAAG,EAAE;IAEnB,MAAMgB,iBAAiB,GAAGJ,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAC;IACtEG,iBAAiB,CAACC,SAAS,GAAG,EAAE;IAEhC,MAAMN,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,CAACC,KAAK;IAE5D,IAAIH,SAAS,CAACI,MAAM,GAAG,CAAC,EAAE;MACxBC,iBAAiB,CAACyG,KAAK,CAACC,eAAe,GAAG,SAAS;MACnD1G,iBAAiB,CAACyG,KAAK,CAACE,KAAK,GAAG,MAAM;IACxC;IAEA1H,aAAa,GAAGU,SAAS,CAACoC,KAAK,CAAC,IAAI,CAAC;IACrC,IAAI9C,aAAa,CAACc,MAAM,IAAI,CAAC,EAAE;MAE7B,IAAId,aAAa,CAAC,CAAC,CAAC,CAACc,MAAM,GAAG,CAAC,EAAE;QAC/BC,iBAAiB,CAACC,SAAS,GAAG,4DAA4D,GAC1F,8EAA8E;QAC9E;MACF;MAEAD,iBAAiB,CAACC,SAAS,GAAG,qCAAqC;MACnE;IACF;;IAEA;IACA,IAAI2G,sBAAsB,GAAG,KAAK;IAClC,IAAIC,iBAAiB,GAAG,KAAK;IAC7B,IAAIC,iBAAiB,GAAG,CAAC;IACzB,IAAIC,YAAY,GAAG,EAAE;IACrB,KAAK,IAAIjG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7B,aAAa,CAACc,MAAM,EAAEe,CAAC,EAAE,EAAE;MAE7C,IAAI7B,aAAa,CAAC6B,CAAC,CAAC,CAACf,MAAM,GAAG,CAAC,EAAE;QAC/B6G,sBAAsB,GAAG,IAAI;QAC7B3H,aAAa,CAACqD,MAAM,CAACxB,CAAC,EAAE,CAAC,CAAC;QAC1BA,CAAC,EAAE;MACL,CAAC,MAAM,IAAI7B,aAAa,CAAC6B,CAAC,CAAC,CAACf,MAAM,GAAG,EAAE,EAAE;QACvC8G,iBAAiB,GAAG,IAAI;QACxB;MACF,CAAC,MAAM;QACLE,YAAY,CAACvF,IAAI,CAACvC,aAAa,CAAC6B,CAAC,CAAC,CAAC;MACrC;MAEA,IAAIiG,YAAY,KAAKxF,SAAS,IAAIwF,YAAY,CAAChH,MAAM,KAAK,CAAC,EAAE;QAC3D;MACF;IACF;;IAEA;IACA,IAAIgH,YAAY,KAAKxF,SAAS,EAAE;MAC9BvB,iBAAiB,CAACC,SAAS,GAAG,oBAAoB;MAClD;IACF,CAAC,MAAM,IAAI8G,YAAY,CAAChH,MAAM,GAAG,CAAC,EAAE;MAClCgD,gBAAgB,CAAC,sGAAsG,EAAE,CAAC,EAAE,CAAC,CAAC;IAChI;IACA,IAAI6D,sBAAsB,EAAE;MAC1B7D,gBAAgB,CAAC,qEAAqE,EAAE,CAAC,EAAE,CAAC,CAAC;IAC/F;IACA,IAAI8D,iBAAiB,EAAE;MACrB9D,gBAAgB,CAAC,8GAA8G,GAC/H,4FAA4F,EAAE,CAAC,EAAE,CAAC,CAAC;IACrG;;IAEA;IACA,IAAIiE,UAAU;IACd,IAAIC,wBAAwB,GAAG,KAAK;IACpC,KAAK,IAAInG,CAAC,GAAGiG,YAAY,CAAChH,MAAM,EAAEe,CAAC,GAAG7B,aAAa,CAACc,MAAM,EAAEe,CAAC,EAAE,EAAE;MAE/D,IAAI7B,aAAa,CAAC6B,CAAC,CAAC,CAACf,MAAM,GAAG,CAAC,EAAE;QAC/BkH,wBAAwB,GAAG,IAAI;QAC/BhI,aAAa,CAACqD,MAAM,CAACxB,CAAC,EAAE,CAAC,CAAC;QAC1BA,CAAC,EAAE;MACL,CAAC,MAAM;QACLkG,UAAU,GAAG/H,aAAa,CAAC6B,CAAC,CAAC;QAC7BgG,iBAAiB,GAAGhG,CAAC,GAAC,CAAC;QACvB;MACF;IACF;;IAEA;IACA,IAAIkG,UAAU,KAAKzF,SAAS,EAAE;MAC5BvB,iBAAiB,CAACC,SAAS,GAAG,gDAAgD;MAC9E;IACF;IACA,IAAIhB,aAAa,CAAC6H,iBAAiB,CAAC,CAAC/G,MAAM,GAAG,CAAC,IAAIkH,wBAAwB,EAAE;MAC3ElE,gBAAgB,CAAC,gFAAgF,CAAC;IACpG;;IAEA;IACA,KAAK,IAAIjC,CAAC,GAAGgG,iBAAiB,EAAEhG,CAAC,GAAG7B,aAAa,CAACc,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC7D,IAAI7B,aAAa,CAAC6B,CAAC,CAAC,CAACf,MAAM,GAAG,CAAC,EAAE;QAC/Bd,aAAa,CAACqD,MAAM,CAACxB,CAAC,EAAE,CAAC,CAAC;QAC1BA,CAAC,EAAE;MACL;IACF;;IAEA;IACA5B,iBAAiB,GAAGqC,SAAS;IAC7B,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7B,aAAa,CAACc,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC7C,IAAI7B,aAAa,CAAC6B,CAAC,CAAC,CAACf,MAAM,GAAG,CAAC,EAAE;QAC/Bd,aAAa,CAACqD,MAAM,CAACxB,CAAC,EAAE,CAAC,CAAC;QAC1BA,CAAC,EAAE;MACL,CAAC,MAAM,IAAI5B,iBAAiB,KAAKqC,SAAS,IAAItC,aAAa,CAAC6B,CAAC,CAAC,CAACiB,KAAK,CAAC,GAAG,CAAC,CAAChC,MAAM,GAAG,EAAE,EAAE;QACrFb,iBAAiB,GAAG4B,CAAC;QACrB;MACF;IACF;IAEA,IAAI5B,iBAAiB,KAAKqC,SAAS,EAAE;MACnCvB,iBAAiB,CAACC,SAAS,GAAG,gDAAgD;MAC9E;IACF;IAEAd,iBAAiB,GAAGoC,SAAS;IAC7B;IACA,KAAK,IAAIT,CAAC,GAAGgG,iBAAiB,EAAEhG,CAAC,GAAG7B,aAAa,CAACc,MAAM,EAAEe,CAAC,EAAE,EAAE;MAC7D,IAAIoG,IAAI,GAAGjI,aAAa,CAAC6B,CAAC,CAAC,CAAC6E,IAAI,EAAE,CAAC5D,KAAK,CAAC,GAAG,CAAC;MAC7C,IAAImF,IAAI,CAACnH,MAAM,KAAK,CAAC,EAAE;QACrBmH,IAAI,GAAGA,IAAI,CAACtD,IAAI,CAAC,GAAG,CAAC,CAACuC,WAAW,EAAE;QACnC,IAAIe,IAAI,KAAK,aAAa,IAAIA,IAAI,KAAK,YAAY,IAAIA,IAAI,KAAK,cAAc,EAAE;UAC9E/H,iBAAiB,GAAG2B,CAAC;QACvB;MACF;IACF;IAEA,IAAI3B,iBAAiB,KAAKoC,SAAS,EAAE;MACnCpC,iBAAiB,GAAGF,aAAa,CAACc,MAAM;MACxC;MACA;MACAC,iBAAiB,CAACC,SAAS,GAAG,iGAAiG,GAC/H,2EAA2E;MAC3E;IACF;;IAEA;IACA,IAAIkH,sBAAsB,GAAG,KAAK;IAClC,IAAIhI,iBAAiB,GAAGF,aAAa,CAACc,MAAM,EAAE;MAC5CoH,sBAAsB,GAAG3B,iBAAiB,CAACrG,iBAAiB,GAAC,CAAC,EAAEF,aAAa,EAAEA,aAAa,CAACc,MAAM,CAAC;IACtG;IAEA,IAAI,CAACoH,sBAAsB,EAAE;MAC3BnH,iBAAiB,CAACC,SAAS,GAAG,wFAAwF;MACtH;IACF;IAEAmC,OAAO,CAACC,GAAG,CAACpD,aAAa,CAAC;IAC1BmD,OAAO,CAACC,GAAG,CAACnD,iBAAiB,EAAEC,iBAAiB,CAAC;IACjD;IACAqF,aAAa,CAACtF,iBAAiB,EAAED,aAAa,EAAEE,iBAAiB,CAAC;;IAElE;;IAEA;;IAEA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;;IAEA;IACA;;IAGA;IACA;IACA;IACA;IACAiD,OAAO,CAACC,GAAG,CAACvD,eAAe,CAAC;IAC5B;IACA;IACAsD,OAAO,CAACC,GAAG,CAACtD,kBAAkB,CAAC;IAC/BqD,OAAO,CAACC,GAAG,CAACrD,cAAc,CAAC;IAC3BoD,OAAO,CAACC,GAAG,CAACxD,iBAAiB,CAAC;IAC9BuD,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IAExBrC,iBAAiB,CAACC,SAAS,GAAG,mBAAmB;IACjDD,iBAAiB,CAACyG,KAAK,CAACC,eAAe,GAAG,SAAS;IAEnDrH,eAAe,CAACP,eAAe,CAAC;EAClC;EAEA,oBACE;IAAK,SAAS,EAAC,KAAK;IAAA,wBAClB;MAAK,SAAS,EAAC,cAAc;MAAA,uBAC3B;QAAK,SAAS,EAAC,WAAW;QAAA,wBACxB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAyB,eACzB;UAAM,SAAS,EAAC,WAAW;UAAC,YAAY,EAAC,KAAK;UAAA,wBAC5C;YAAK,SAAS,EAAC,aAAa;YAAA,wBAC1B;cAAU,MAAM,EAAEU,sBAAuB;cAAC,EAAE,EAAC,WAAW;cAAC,IAAI,EAAC,MAAM;cAAC,QAAQ;YAAA;cAAA;cAAA;cAAA;YAAA,QAAE,eAC/E;cAAO,EAAE,EAAC,mBAAmB;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAAsC,eACnE;cAAA;cAAA;cAAA;YAAA,QAAa;UAAA;YAAA;YAAA;YAAA;UAAA,QACT,eACN;YAAK,SAAS,EAAC,YAAY;YAAA,uBACzB;cAAO,OAAO,EAAEgH,eAAgB;cAAC,IAAI,EAAC,QAAQ;cAAC,KAAK,EAAC,aAAa;cAAC,IAAI,EAAC,EAAE;cAAC,SAAS,EAAC;YAAK;cAAA;cAAA;cAAA;YAAA;UAAE;YAAA;YAAA;YAAA;UAAA,QACxF;QAAA;UAAA;UAAA;UAAA;QAAA,QACD;MAAA;QAAA;QAAA;QAAA;MAAA;IACH;MAAA;MAAA;MAAA;IAAA,QACF,EAELpH,OAAO,CAACgI,GAAG,CAACC,OAAO,IAAI;MACtB,oBAAO;QAAA,UAAMA,OAAO,CAACrG,QAAQ;MAAE;QAAA;QAAA;QAAA;MAAA,QAAO;IACxC,CAAC,CAAC;EAAA;IAAA;IAAA;IAAA;EAAA,QAUE;AAEV;AAAC,GAz0BQpC,GAAG;AAAA,KAAHA,GAAG;AA20BZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}